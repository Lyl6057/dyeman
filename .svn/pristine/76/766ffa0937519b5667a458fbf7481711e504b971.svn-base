{"version":3,"sources":["webpack:///src/view/iq/Gq/index.vue","webpack:///./src/view/iq/Gq/index.vue?99b0","webpack:///./src/view/iq/Gq/index.vue","webpack:///./node_modules/core-js/library/modules/es7.set.to-json.js","webpack:///./node_modules/core-js/library/modules/es7.set.from.js","webpack:///./node_modules/babel-runtime/core-js/set.js","webpack:///./node_modules/core-js/library/modules/es7.set.of.js","webpack:///./node_modules/core-js/library/fn/set.js","webpack:///./node_modules/core-js/library/modules/es6.set.js","webpack:///./src/view/im/St/data.js","webpack:///./src/api/im/St/index.js","webpack:///src/view/im/St/preview.vue","webpack:///./src/view/im/St/preview.vue?05b3","webpack:///./src/view/im/St/preview.vue","webpack:///src/view/im/St/index.vue","webpack:///./src/view/im/St/index.vue?0b05","webpack:///./src/view/im/St/index.vue"],"names":["iq_Gq","name","props","checkData","Array","leftWidth","String","components","data","dialogVisible","loading","loadingDlg","existData","dlgTle","controll","border","full","crudData","crudOp","menu","addBtn","highlightCurrentRow","showSummary","sumColumnList","label","type","column","prop","align","hide","area","x","y","list","watch","methods","getData","_this","this","Object","Gq","then","res","forEach","item","index","isExtreme","maxX","maxY","push","undefined","arrGroup","sort","axisY","axisX","axisZ","setTimeout","$nextTick","boxCarId","set_default","a","split","i","length","check","getDetail","val","_this2","exist","boxId","domSet","document","getElementsByClassName","addEventListener","isScroll","dom","scrollLeft","scrollTop","arr","map","dest","ai","j","dj","created","mounted","beforeDestroy","view_iq_Gq","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","attrs","id","staticClass","_v","content","placement","model","callback","$$v","$set","style","width","height","_l","key","class","cabinet_check","highLight","marginLeft","marginTop","backgroundColor","state","display","color","title","trigger","option","slot","on","click","$event","_s","_e","items","indexs","partition","endX","startX","endY","startY","lineHeight","top","left","minWidth","areaName","visible","append-to-body","update:visible","staticStyle","margin-top","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","$export","P","R","toJSON","module","exports","default","__esModule","Set","strong","validate","get","arguments","add","def","sxForm","submitBtn","emptyBtn","labelWidth","span","sxCrud","cell","dicData","getDIC","pbForm","pbCrud","selection","reserveSelection","selectionWidth","cpbForm","cpbCrud","scflForm","scflCrud","rhlForm","rhlCrud","getSx","params","axios","url","method","getPb","getCpb","getRhl","getScfl","preview","locInfo","boxLoc","pdDlg","logOrPd","innerVisible","chengzhong","finishList","btn","log","queue","oldData","czsocket","pdIndex","delBtn","editBtn","cancelBtn","menuWidth","rowKey","config","ydpOp","oldArea","oldCheck","setCz","onmessage","event","caliWeight","$cellEdit","setData","random","Math","ceil","original","pandian","$tip","cofirm","queueClick","moniCc","catch","$message","message","warning","handleRowDBLClick","_this3","$refs","children","getWeight","send","finish","pass","_i","concat","nextPd","error","pandianed","over","_this4","dataType","content-type","success","delQueue","splice","preClose","closeBefore","pdClose","cellClick","_dest$push","weight","countingNo","defineProperty_default","batchNo","close","St_preview","disabled","split-button","nativeOn","margin-left","ref","current-row-change","row-dblclick","rows","readonly","domProps","innerHTML","stopPropagation","show-close","close-on-click-modal","close-on-press-escape","scopedSlots","_u","fn","scope","St","tabs","page","pageSize","total","currentPage","chooseData","changeList","form","formOp","func","sx","pb","cpb","rhl","scfl","selectionData","tle","handler","newVal","oldVal","deep","immediate","crud1","selectClear","assign_default","start","records","seqQty","err","keys_default","iptChange","update","del","sava","cancel","query","selectionChange","row","classifyId","$axios","delete","code","handleList","_this5","im_St","on-load","update:page","selection-change","St_Component","St_normalizeComponent"],"mappings":"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","file":"static/js/4.9f6a181a4c986eb3361b.js","sourcesContent":["<template>\r\n  <div id=\"iqGq\" v-drap=\"{ x: 'content', y: 'content' }\">\r\n    <div class=\"navigation\">\r\n      <div class=\"one\">一层</div>\r\n      <div class=\"two\">二层</div>\r\n      <!-- <div class=\"three\">设备</div> -->\r\n      <div class=\"controll\">\r\n        <span>坐标轴：</span>\r\n        <el-tooltip :content=\"'坐标轴: ' + controll.border\" placement=\"top\">\r\n          <el-switch v-model=\"controll.border\"> </el-switch>\r\n        </el-tooltip>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div\r\n        class=\"box\"\r\n        :style=\"{\r\n          width: area.x * 70 + 30 + 'px',\r\n          height: area.y * 70 + 30 + 'px',\r\n        }\"\r\n        v-loading=\"loading\"\r\n      >\r\n        <div class=\"wareHouse\" v-for=\"item of data\" :key=\"item.axisY\">\r\n          <div\r\n            class=\"cabinet\"\r\n            v-for=\"(list, index) of item.list\"\r\n            :key=\"index\"\r\n            :class=\"{\r\n              cabinet_check: list.highLight,\r\n            }\"\r\n            :style=\"{\r\n              marginLeft:\r\n                (list.axisX > 1 ? (list.axisX - 1) * 70 + 10 : 10) + 'px',\r\n              marginTop: (list.axisZ > 1 ? 10 : 35) + 'px',\r\n              backgroundColor:\r\n                list.state === '1'\r\n                  ? list.check\r\n                    ? 'red'\r\n                    : list.axisZ > 1\r\n                    ? '#409EFF'\r\n                    : '#67C23A'\r\n                  : list.state === '2'\r\n                  ? '#ccc'\r\n                  : '',\r\n              display: list.state === '1' || list.state === '2' ? '' : 'none',\r\n              color: '#fff',\r\n            }\"\r\n          >\r\n            <el-popover\r\n              placement=\"top-start\"\r\n              :title=\"dlgTle\"\r\n              width=\"600\"\r\n              trigger=\"click\"\r\n              v-if=\"list.exist\"\r\n            >\r\n              <avue-crud\r\n                v-loading=\"loadingDlg\"\r\n                :data=\"crudData\"\r\n                :option=\"crudOp\"\r\n              ></avue-crud>\r\n              <div slot=\"reference\" @click=\"getDetail(list)\">\r\n                {{ list.exist ? \"✔\" : \"\" }}\r\n              </div>\r\n            </el-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"area\">\r\n          <div\r\n            class=\"xBox\"\r\n            v-show=\"controll.border\"\r\n            :style=\"{\r\n              width: leftWidth,\r\n            }\"\r\n          >\r\n            <div\r\n              class=\"xShaft\"\r\n              :style=\"{\r\n                width: area.x * 70 + 55 + 'px',\r\n              }\"\r\n            >\r\n              <div v-for=\"(items, indexs) of area.x\" :key=\"indexs\">\r\n                {{ items }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"yBox\" v-show=\"controll.border\">\r\n            <div\r\n              class=\"yShaft\"\r\n              :style=\"{\r\n                height: area.y * 70 + 60 + 'px',\r\n              }\"\r\n            >\r\n              <div v-for=\"(items, indexs) of area.y\" :key=\"indexs\">\r\n                {{ items }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"partition\"\r\n            v-for=\"partition of area.list\"\r\n            :key=\"partition.name\"\r\n            :style=\"{\r\n              width: (partition.endX - partition.startX + 1) * 70 + 'px',\r\n              height: (partition.endY - partition.startY + 1) * 70 + 'px',\r\n              lineHeight:\r\n                partition.endY - partition.startY + 1 === 1\r\n                  ? '50px'\r\n                  : (partition.endY - partition.startY + 1) * 70 + 'px',\r\n              top:\r\n                partition.startY > 1\r\n                  ? (partition.startY - 1) * 70 + 16 + 'px'\r\n                  : '16px',\r\n              left:\r\n                partition.startX > 1\r\n                  ? (partition.startX - 1) * 70 + 15 + 'px'\r\n                  : '15px',\r\n              backgroundColor: partition.check ? 'red' : '',\r\n            }\"\r\n          >\r\n            <div\r\n              :style=\"{\r\n                minWidth: partition.areaName.length > 3 ? '75px' : '',\r\n              }\"\r\n            >\r\n              {{ partition.areaName }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-dialog\r\n      :title=\"dlgTle\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"60%\"\r\n      append-to-body\r\n    >\r\n      <div class=\"formBox\" style=\"margin-top: 10px\">\r\n        <avue-crud\r\n          v-loading=\"loadingDlg\"\r\n          :data=\"crudData\"\r\n          :option=\"crudOp\"\r\n        ></avue-crud>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getWarehouseArea,\r\n  getBoxLocation,\r\n  updateBoxLocation,\r\n  getBoxDetail,\r\n} from \"@/api/iq/Gq/index\";\r\nexport default {\r\n  name: \"\",\r\n  props: {\r\n    checkData: Array,\r\n    leftWidth: String,\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      loading: false,\r\n      loadingDlg: false,\r\n      existData: [],\r\n      dlgTle: \"\",\r\n      controll: {\r\n        border: false,\r\n        full: false,\r\n      },\r\n      crudData: [],\r\n      crudOp: {\r\n        menu: false,\r\n        addBtn: false,\r\n        border: true,\r\n        highlightCurrentRow: true,\r\n        showSummary: true,\r\n        sumColumnList: [\r\n          {\r\n            label: \"共\",\r\n            name: \"weight\",\r\n            type: \"sum\",\r\n          },\r\n        ],\r\n        column: [\r\n          {\r\n            label: \"批号\",\r\n            prop: \"batchNo\",\r\n          },\r\n          {\r\n            label: \"疋号\",\r\n            prop: \"countingNo\",\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"车笼id\",\r\n            prop: \"boxCarId\",\r\n            hide: true,\r\n          },\r\n          // {\r\n          //   label: \"客人布票号\",\r\n          //   prop: \"custTicket\",\r\n          // },\r\n          // {\r\n          //   label: \"通过\",\r\n          //   prop: \"isAdopt\",\r\n\r\n          //   type: \"select\",\r\n          //   dicData: [\r\n          //     {\r\n          //       value: true,\r\n          //       label: \"通过\",\r\n          //     },\r\n          //     {\r\n          //       value: false,\r\n          //       label: \"不通过\",\r\n          //     },\r\n          //   ],\r\n          // },\r\n          {\r\n            label: \"重量\",\r\n            prop: \"weight\",\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"单位\",\r\n            prop: \"weightUnit\",\r\n          },\r\n        ],\r\n      },\r\n      area: {\r\n        x: 50,\r\n        y: 5,\r\n        list: [],\r\n      },\r\n      data: [],\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    getData() {\r\n      this.loading = true;\r\n      getWarehouseArea().then((res) => {\r\n        res.data.forEach((item, index) => {\r\n          if (item.isExtreme) {\r\n            this.area.x = item.maxX;\r\n            this.area.y = item.maxY;\r\n          } else {\r\n            this.area.list.push(item);\r\n          }\r\n        });\r\n      });\r\n      getBoxLocation().then((res) => {\r\n        if (this.checkData != undefined) {\r\n          res.data.forEach((item, index) => {});\r\n        }\r\n        this.data = this.arrGroup(res.data).sort((x, y) => {\r\n          return x.axisY - y.axisY;\r\n        });\r\n        this.data.forEach((item) => {\r\n          item.list.sort((x, y) => {\r\n            if (x.axisX === y.axisX) {\r\n              return x.axisZ - y.axisZ;\r\n            }\r\n            return x.axisX - y.axisX;\r\n          });\r\n        });\r\n      });\r\n      if (this.checkData != undefined) {\r\n        setTimeout(() => {\r\n          this.$nextTick(() => {\r\n            let data = [];\r\n            this.checkData.forEach((item, index) => {\r\n              data.push(item.boxCarId);\r\n            });\r\n            data = new Set(data);\r\n            data.forEach((item) => {\r\n              let x = item.split(\"-\")[0];\r\n              let y = item.split(\"-\")[1];\r\n              for (let i = 0; i < this.data[y - 1].list.length; i++) {\r\n                if (item === this.data[y - 1].list[i].boxCarId) {\r\n                  this.data[y - 1].list[i].check = true;\r\n                  // this.data[y - 1].list[i].highLight = false;\r\n                  this.existData.push(this.data[y - 1].list[i].check);\r\n                }\r\n              }\r\n            });\r\n          });\r\n          this.loading = false;\r\n        }, 1500);\r\n      } else {\r\n        setTimeout(() => {\r\n          this.loading = false;\r\n        }, 500);\r\n      }\r\n    },\r\n    getDetail(val) {\r\n      if (!val.exist) {\r\n        return;\r\n      }\r\n      // this.dlgTle = val.boxCode;\r\n      // this.dialogVisible = true;\r\n      this.loadingDlg = true;\r\n      getBoxDetail({\r\n        boxId: val.boxId,\r\n      }).then((res) => {\r\n        this.crudData = res.data;\r\n        this.loadingDlg = false;\r\n      });\r\n    },\r\n    domSet() {\r\n      // 监听scroll事件\r\n      let dom = document.getElementsByClassName(\"content\")[0];\r\n      dom.addEventListener(\"scroll\", this.isScroll, true);\r\n    },\r\n    isScroll() {\r\n      let dom = document.getElementsByClassName(\"content\")[0];\r\n      let x = document.getElementsByClassName(\"xBox\")[0];\r\n      let y = document.getElementsByClassName(\"yBox\")[0];\r\n      x.scrollLeft = dom.scrollLeft;\r\n      y.scrollTop = dom.scrollTop;\r\n    },\r\n    arrGroup(arr) {\r\n      var map = {},\r\n        dest = [];\r\n      for (var i = 0; i < arr.length; i++) {\r\n        var ai = arr[i];\r\n        if (!map[ai.axisY]) {\r\n          dest.push({\r\n            axisY: ai.axisY,\r\n            list: [ai],\r\n          });\r\n          map[ai.axisY] = ai;\r\n        } else {\r\n          for (var j = 0; j < dest.length; j++) {\r\n            var dj = dest[j];\r\n            if (dj.axisY == ai.axisY) {\r\n              dj.list.push(ai);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return dest;\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.getData();\r\n    this.domSet();\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n.el-dialog__header {\r\n  text-align: center !important;\r\n}\r\n\r\n@keyframes twinkling {\r\n  /* 透明度由0到1 */\r\n  0% {\r\n    opacity: 0; /* 透明度为0 */\r\n    // border: 1px solid red;\r\n  }\r\n\r\n  25% {\r\n    opacity: 0.25; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n\r\n  50% {\r\n    opacity: 0.5; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n\r\n  75% {\r\n    opacity: 0.75; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n}\r\n\r\n#iqGq {\r\n  height: calc(100vh - 80px);\r\n  width: 100%;\r\n  // overflow: hidden;\r\n  background: #021a3c;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  border: 1px solid #fff;\r\n  // border-left: none;\r\n  cursor: pointer;\r\n\r\n  .navigation {\r\n    // width: 100%;\r\n    height: 20px;\r\n    margin: 0 0 10px 10px;\r\n    color: #fff;\r\n    line-height: 20px;\r\n    width: 100%;\r\n    text-align: center;\r\n\r\n    div {\r\n      margin: 10px 0 10px 0;\r\n    }\r\n\r\n    .one {\r\n      width: 50px;\r\n      height: 20px;\r\n      background-color: #67C23A;\r\n      float: left;\r\n    }\r\n\r\n    .two {\r\n      width: 50px;\r\n      height: 20px;\r\n      margin-left: 20px;\r\n      background-color: #409EFF;\r\n      float: left;\r\n    }\r\n\r\n    .three {\r\n      width: 50px;\r\n      height: 20px;\r\n      margin-left: 20px;\r\n      background-color: #ccc;\r\n      color: black;\r\n      float: left;\r\n    }\r\n\r\n    .controll {\r\n      margin-top: 0;\r\n      float: left;\r\n      height: 20px;\r\n      line-height: 20px;\r\n      margin-left: 10%;\r\n\r\n      >span {\r\n        margin-left: 20px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .content {\r\n    height: 98%;\r\n    width: 100%;\r\n    overflow: scroll;\r\n    background: #021a3c;\r\n    border-top: 1px solid #fff;\r\n  }\r\n\r\n  .box {\r\n    border: 1px solid #ccc;\r\n    // width: 100%;\r\n    border-bottom: none;\r\n    border-right: none;\r\n    position: relative;\r\n    padding: 30px;\r\n    background: #021a3c;\r\n  }\r\n\r\n  .area {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    color: #fff;\r\n\r\n    .xBox {\r\n      width: calc(100vw - 260px);\r\n      height: 20px;\r\n      overflow: hidden;\r\n      position: fixed;\r\n      border-top: 1px solid #fff;\r\n      margin-top: -2px;\r\n      background: #021a3c;\r\n      z-index: 999;\r\n    }\r\n\r\n    .yBox {\r\n      height: calc(100vh - 115px);\r\n      width: 25px;\r\n      overflow: hidden;\r\n      position: fixed;\r\n      background: #021a3c;\r\n      z-index: 999;\r\n      margin-left: -1px;\r\n      margin-top: -1px;\r\n    }\r\n\r\n    .xShaft {\r\n      width: 100%;\r\n      height: 1px;\r\n      margin-left: 35px;\r\n\r\n      div {\r\n        width: 68px;\r\n        height: 20px;\r\n        line-height: 22px;\r\n        float: left;\r\n        border-left: 2px solid #fff;\r\n      }\r\n    }\r\n\r\n    .yShaft {\r\n      width: 25px;\r\n      height: 100%;\r\n      padding-top: 35px;\r\n\r\n      div {\r\n        height: 68px;\r\n        border-bottom: 2px solid #fff;\r\n        line-height: 69px;\r\n      }\r\n\r\n      div:first-child {\r\n        border-top: 2px solid #fff;\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .wareHouse {\r\n    width: 100%;\r\n    height: 50px;\r\n    padding: 10px;\r\n    float: left;\r\n    position: relative;\r\n    z-index: 88;\r\n  }\r\n\r\n  .cabinet {\r\n    position: absolute;\r\n    width: 40px;\r\n    height: 25px;\r\n    line-height: 25px;\r\n    border: 1px solid #fff;\r\n    background: #000;\r\n    color: #fff;\r\n  }\r\n\r\n  .cabinet_check {\r\n    -webkit-animation: twinkling 1s infinite;\r\n  }\r\n\r\n  .cabinet:hover {\r\n    opacity: 0.6;\r\n  }\r\n\r\n  .partition {\r\n    height: 100%;\r\n    position: absolute;\r\n    border: 1px solid #fff;\r\n    margin: 23px 20px;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n    font-size: 18px;\r\n\r\n    div {\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/iq/Gq/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"drap\",rawName:\"v-drap\",value:({ x: 'content', y: 'content' }),expression:\"{ x: 'content', y: 'content' }\"}],attrs:{\"id\":\"iqGq\"}},[_c('div',{staticClass:\"navigation\"},[_c('div',{staticClass:\"one\"},[_vm._v(\"一层\")]),_vm._v(\" \"),_c('div',{staticClass:\"two\"},[_vm._v(\"二层\")]),_vm._v(\" \"),_c('div',{staticClass:\"controll\"},[_c('span',[_vm._v(\"坐标轴：\")]),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"content\":'坐标轴: ' + _vm.controll.border,\"placement\":\"top\"}},[_c('el-switch',{model:{value:(_vm.controll.border),callback:function ($$v) {_vm.$set(_vm.controll, \"border\", $$v)},expression:\"controll.border\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box\",style:({\n        width: _vm.area.x * 70 + 30 + 'px',\n        height: _vm.area.y * 70 + 30 + 'px',\n      })},[_vm._l((_vm.data),function(item){return _c('div',{key:item.axisY,staticClass:\"wareHouse\"},_vm._l((item.list),function(list,index){return _c('div',{key:index,staticClass:\"cabinet\",class:{\n            cabinet_check: list.highLight,\n          },style:({\n            marginLeft:\n              (list.axisX > 1 ? (list.axisX - 1) * 70 + 10 : 10) + 'px',\n            marginTop: (list.axisZ > 1 ? 10 : 35) + 'px',\n            backgroundColor:\n              list.state === '1'\n                ? list.check\n                  ? 'red'\n                  : list.axisZ > 1\n                  ? '#409EFF'\n                  : '#67C23A'\n                : list.state === '2'\n                ? '#ccc'\n                : '',\n            display: list.state === '1' || list.state === '2' ? '' : 'none',\n            color: '#fff',\n          })},[(list.exist)?_c('el-popover',{attrs:{\"placement\":\"top-start\",\"title\":_vm.dlgTle,\"width\":\"600\",\"trigger\":\"click\"}},[_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingDlg),expression:\"loadingDlg\"}],attrs:{\"data\":_vm.crudData,\"option\":_vm.crudOp}}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){return _vm.getDetail(list)}},slot:\"reference\"},[_vm._v(\"\\n              \"+_vm._s(list.exist ? \"✔\" : \"\")+\"\\n            \")])],1):_vm._e()],1)}),0)}),_vm._v(\" \"),_c('div',{staticClass:\"area\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.controll.border),expression:\"controll.border\"}],staticClass:\"xBox\",style:({\n            width: _vm.leftWidth,\n          })},[_c('div',{staticClass:\"xShaft\",style:({\n              width: _vm.area.x * 70 + 55 + 'px',\n            })},_vm._l((_vm.area.x),function(items,indexs){return _c('div',{key:indexs},[_vm._v(\"\\n              \"+_vm._s(items)+\"\\n            \")])}),0)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.controll.border),expression:\"controll.border\"}],staticClass:\"yBox\"},[_c('div',{staticClass:\"yShaft\",style:({\n              height: _vm.area.y * 70 + 60 + 'px',\n            })},_vm._l((_vm.area.y),function(items,indexs){return _c('div',{key:indexs},[_vm._v(\"\\n              \"+_vm._s(items)+\"\\n            \")])}),0)]),_vm._v(\" \"),_vm._l((_vm.area.list),function(partition){return _c('div',{key:partition.name,staticClass:\"partition\",style:({\n            width: (partition.endX - partition.startX + 1) * 70 + 'px',\n            height: (partition.endY - partition.startY + 1) * 70 + 'px',\n            lineHeight:\n              partition.endY - partition.startY + 1 === 1\n                ? '50px'\n                : (partition.endY - partition.startY + 1) * 70 + 'px',\n            top:\n              partition.startY > 1\n                ? (partition.startY - 1) * 70 + 16 + 'px'\n                : '16px',\n            left:\n              partition.startX > 1\n                ? (partition.startX - 1) * 70 + 15 + 'px'\n                : '15px',\n            backgroundColor: partition.check ? 'red' : '',\n          })},[_c('div',{style:({\n              minWidth: partition.areaName.length > 3 ? '75px' : '',\n            })},[_vm._v(\"\\n            \"+_vm._s(partition.areaName)+\"\\n          \")])])})],2)],2)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dlgTle,\"visible\":_vm.dialogVisible,\"width\":\"60%\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"formBox\",staticStyle:{\"margin-top\":\"10px\"}},[_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingDlg),expression:\"loadingDlg\"}],attrs:{\"data\":_vm.crudData,\"option\":_vm.crudOp}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e56ba4b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/iq/Gq/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e56ba4b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e56ba4b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/iq/Gq/index.vue\n// module id = null\n// module chunks = ","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.set.to-json.js\n// module id = BDhv\n// module chunks = 4 5","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.set.from.js\n// module id = ioQ5\n// module chunks = 4 5","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/set.js\n// module id = lHA8\n// module chunks = 4 5","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.set.of.js\n// module id = oNmr\n// module chunks = 4 5","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/set.js\n// module id = pPW7\n// module chunks = 4 5","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.set.js\n// module id = ttyz\n// module chunks = 4 5","import { getDIC, getDicT } from '@/config/index'\r\n// 纱线\r\nexport const sxForm = {\r\n  submitBtn: false,\r\n  emptyBtn: false,\r\n  labelWidth: 130,\r\n  column: [\r\n    {\r\n      label: \"纱线系统编号\",\r\n      prop: \"yarnsId\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"纱批/批号\",\r\n      prop: \"batchNo\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"纱牌\",\r\n      prop: \"yarnsCard\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"客户编号\",\r\n      prop: \"custId\",\r\n      span: 6,\r\n    }\r\n  ]\r\n}\r\n\r\nexport const sxCrud = {\r\n  menu: false,\r\n  addBtn: false,\r\n  border: true,\r\n  highlightCurrentRow: true,\r\n  showSummary: true,\r\n  sumColumnList: [\r\n    {\r\n      label: '共',\r\n      name: 'cartonNum',\r\n      type: 'sum'\r\n    },\r\n    {\r\n      label: '共',\r\n      name: 'weight',\r\n      type: 'sum'\r\n    },\r\n  ],\r\n  height: \"calc(100vh - 255px)\",\r\n  column: [\r\n    {\r\n      label: \"序号\",\r\n      prop: \"seqQty\",\r\n      cell: true,\r\n      width: 60,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"纱线入库明细OID\",\r\n      prop: \"whseYarninDtloid\",\r\n      hide: true,\r\n      width: 225,\r\n    },\r\n    {\r\n      label: \"纱线系统编号\",\r\n      prop: \"yarnsId\",\r\n      cell: true,\r\n      width: 150,\r\n    },\r\n    {\r\n      label: \"纱批/批号\",\r\n      prop: \"batchNo\",\r\n      cell: true,\r\n      width: 250,\r\n    },\r\n    {\r\n      label: \"箱数\",\r\n      prop: \"cartonNum\",\r\n      cell: true,\r\n      width: 80,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"每箱锭数\",\r\n      prop: \"everySpindle\",\r\n      cell: true,\r\n      width: 100,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"尾箱锭数\",\r\n      prop: \"tailSpindle\",\r\n      cell: true,\r\n      width: 100,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"重量\",\r\n      prop: \"weight\",\r\n      cell: true,\r\n      width: 80,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"重量单位\",\r\n      prop: \"weightUnit\",\r\n      cell: true,\r\n      width: 100,\r\n      type: \"select\",\r\n      dicData: getDIC(\"Whse_Transfer_unit\")\r\n\r\n    },\r\n    {\r\n      label: \"纱牌\",\r\n      prop: \"yarnsCard\",\r\n      cell: true,\r\n      width: 80,\r\n    },\r\n    {\r\n      label: \"产地\",\r\n      prop: \"placeOrigin\",\r\n      cell: true,\r\n      width: 80,\r\n      type: 'select',\r\n      dicData: getDIC(\"Whse_Origin\")\r\n    },\r\n    {\r\n      label: \"入库数量\",\r\n      prop: \"whseNum\",\r\n      cell: true,\r\n      width: 100,\r\n      align: 'right'\r\n    },\r\n\r\n    {\r\n      label: \"客户编号\",\r\n      prop: \"custId\",\r\n      cell: true,\r\n      width: 100,\r\n    },\r\n    {\r\n      label: \"送货单重量\",\r\n      prop: \"cartonWei\",\r\n      cell: true,\r\n      width: 125,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"纱线入库_FK\",\r\n      prop: \"whseYarninFk\",\r\n      hide: true,\r\n      width: 175,\r\n    }\r\n  ]\r\n}\r\n\r\n// 胚布\r\nexport const pbForm = {\r\n  submitBtn: false,\r\n  emptyBtn: false,\r\n  labelWidth: 110,\r\n  column: [\r\n    {\r\n      label: \"批号\",\r\n      prop: \"batchNo\",\r\n      span: 6\r\n    },\r\n    {\r\n      label: \"客人布票号\",\r\n      prop: \"custTicket\",\r\n      span: 6,\r\n    },\r\n    // {\r\n    //   label: \"生产单号\",\r\n    //   prop: \"prodNo\",\r\n    //   span: 6,\r\n    // },\r\n    // {\r\n    //   label: \"货位码\",\r\n    //   prop: \"locationCode\",\r\n    //   span: 6,\r\n    // },\r\n  ]\r\n\r\n}\r\n\r\nexport const pbCrud = {\r\n  menu: false,\r\n  addBtn: false,\r\n  border: true,\r\n  selection: true,\r\n  reserveSelection: true,\r\n  highlightCurrentRow: true,\r\n  selectionWidth: 60,\r\n  showSummary: true,\r\n  sumColumnList: [\r\n    {\r\n      label: '共',\r\n      name: 'weight',\r\n      type: 'sum'\r\n    },\r\n  ],\r\n  height: \"calc(100vh - 255px)\",\r\n  column: [\r\n    {\r\n      label: \"序号\",\r\n      prop: \"seqQty\",\r\n      // cell: true,\r\n      width: 60,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"来胚入库批号资料OID\",\r\n      prop: \"whseCalicoinDtlboid\",\r\n      hide: true,\r\n    },\r\n    {\r\n      label: \"来胚入库明细_FK\",\r\n      prop: \"whseCalicoinDtlaFk\",\r\n      hide: true,\r\n    },\r\n    {\r\n      label: \"批号\",\r\n      prop: \"batchNo\",\r\n      cell: false,\r\n      width: 200,\r\n    },\r\n    {\r\n      label: \"疋号\",\r\n      prop: \"countingNo\",\r\n      cell: false,\r\n      align: \"right\",\r\n      width: 200,\r\n    },\r\n\r\n    {\r\n      label: \"客人布票号\",\r\n      prop: \"custTicket\",\r\n      cell: false,\r\n      width: 200,\r\n    },\r\n\r\n    {\r\n      label: \"重量\",\r\n      prop: \"weight\",\r\n      cell: false,\r\n      width: 105,\r\n      align: \"right\"\r\n    },\r\n    {\r\n      label: \"重量单位\",\r\n      prop: \"weightUnit\",\r\n      cell: false,\r\n      width: 100,\r\n      type: \"select\",\r\n      dicData: getDIC(\"Whse_Transfer_unit\")\r\n    },\r\n    {\r\n      label: \"储存位置\",\r\n      prop: \"boxCarId\",\r\n      cell: false,\r\n      width: 100,\r\n      // type: \"select\",\r\n      // props: {\r\n      //   value: \"boxCarId\",\r\n      //   label: \"boxId\"\r\n      // },\r\n\r\n      // dicData: [\r\n\r\n      // ]\r\n    },\r\n  ]\r\n}\r\n\r\n//成品布\r\nexport const cpbForm = {\r\n  submitBtn: false,\r\n  emptyBtn: false,\r\n  column: [\r\n    {\r\n      label: \"缸号\",\r\n      prop: \"batchNo\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"布票号\",\r\n      prop: \"fabticket\",\r\n      span: 6,\r\n    },\r\n  ]\r\n\r\n}\r\nexport const cpbCrud = {\r\n  menu: false,\r\n  addBtn: false,\r\n  border: true,\r\n  highlightCurrentRow: true,\r\n  showSummary: true,\r\n  sumColumnList: [\r\n    {\r\n      label: '共',\r\n      name: 'countingNo',\r\n      type: 'sum'\r\n    }\r\n  ],\r\n  height: \"calc(100vh - 255px)\",\r\n  column: [\r\n    {\r\n      label: \"序号\",\r\n      prop: \"index\",\r\n      width: 60,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"Whse_FinishedclothIn_dtlOID\",\r\n      prop: \"whseFinishedclothinDtloid\",\r\n      hide: true,\r\n    },\r\n    {\r\n      label: \"缸号\",\r\n      prop: \"batchNo\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"疋数\",\r\n      prop: \"countingNo\",\r\n      cell: true,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"重量\",\r\n      prop: \"weight\",\r\n      cell: true,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"重量单位\",\r\n      prop: \"weightUnit\",\r\n      cell: true,\r\n      type: \"select\",\r\n      dicData: getDIC(\"Whse_Transfer_unit\")\r\n    },\r\n    {\r\n      label: \"布票号\",\r\n      prop: \"fabticket\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"货位码\",\r\n      prop: \"locationCode\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"成品布入库\",\r\n      prop: \"whseFinishedclothinFk\",\r\n      hide: true,\r\n    }\r\n  ]\r\n}\r\n\r\n// 生产辅料\r\nexport const scflForm = {\r\n  submitBtn: false,\r\n  emptyBtn: false,\r\n  column: [\r\n    {\r\n      label: \"材料编号\",\r\n      prop: \"materialNum\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"材料类型\",\r\n      prop: \"materialType\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"批号\",\r\n      prop: \"batchNo\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"客户编号\",\r\n      prop: \"custId\",\r\n      span: 6,\r\n    },\r\n  ]\r\n}\r\nexport const scflCrud = {\r\n  menu: false,\r\n  addBtn: false,\r\n  border: true,\r\n  highlightCurrentRow: true,\r\n  showSummary: true,\r\n  sumColumnList: [\r\n    {\r\n      label: '共',\r\n      name: 'poQty',\r\n      type: 'sum'\r\n    }\r\n  ],\r\n  height: \"calc(100vh - 255px)\",\r\n  column: [\r\n    {\r\n      label: \"序号\",\r\n      prop: \"seqQty\",\r\n      cell: true,\r\n      width: 60,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"五金/行政/生产辅料入库明细OID\",\r\n      prop: \"whseAccessoriesDtloid\",\r\n      hide: true,\r\n    },\r\n    {\r\n      label: \"材料编号\",\r\n      prop: \"materialNum\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"数量\",\r\n      prop: \"poQty\",\r\n      cell: true,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"数量单位\",\r\n      prop: \"unitQty\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"材料类型\",\r\n      prop: \"materialType\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"批号\",\r\n      prop: \"batchNo\",\r\n      cell: true,\r\n    },\r\n\r\n    {\r\n      label: \"客户编号\",\r\n      prop: \"custId\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"五金/行政/生产辅料入库_FK\",\r\n      prop: \"whseAccessoriesinFk\",\r\n      hide: true,\r\n    }\r\n  ]\r\n}\r\n\r\n// 染化料\r\nexport const rhlForm = {\r\n  submitBtn: false,\r\n  emptyBtn: false,\r\n  labelWidth: 120,\r\n  column: [\r\n    {\r\n      label: \"染化料编码\",\r\n      prop: \"chemicalId\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"染化料名称\",\r\n      prop: \"chemicalName\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"批号\",\r\n      prop: \"batchNo\",\r\n      span: 6,\r\n    },\r\n    {\r\n      label: \"客户编号\",\r\n      prop: \"custId\",\r\n      span: 6,\r\n    },\r\n  ]\r\n}\r\nexport const rhlCrud = {\r\n  menu: false,\r\n  addBtn: false,\r\n  border: true,\r\n  highlightCurrentRow: true,\r\n  showSummary: true,\r\n  sumColumnList: [\r\n    {\r\n      label: '共',\r\n      name: 'weight',\r\n      type: 'sum'\r\n    }\r\n  ],\r\n  height: \"calc(100vh - 235px)\",\r\n  column: [\r\n    {\r\n      label: \"序号\",\r\n      prop: \"seqQty\",\r\n      cell: true,\r\n      width: 60,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"Whse_ChemicalIn_dtlaOID\",\r\n      prop: \"whseChemicalinDtlaoid\",\r\n      hide: true,\r\n    },\r\n    {\r\n      label: \"染化料编码\",\r\n      prop: \"chemicalId\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"染化料名称\",\r\n      prop: \"chemicalName\",\r\n      cell: true,\r\n    },\r\n\r\n    {\r\n      label: \"批号\",\r\n      prop: \"batchNo\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"重量\",\r\n      prop: \"weight\",\r\n      cell: true,\r\n      align: 'right'\r\n    },\r\n    {\r\n      label: \"重量单位\",\r\n      prop: \"weightUnit\",\r\n      cell: true,\r\n      type: \"select\",\r\n      dicData: getDIC(\"Whse_Transfer_unit\")\r\n    },\r\n    {\r\n      label: \"客户编号\",\r\n      prop: \"custId\",\r\n      cell: true,\r\n    },\r\n    {\r\n      label: \"染化料入库\",\r\n      prop: \"whseChemicalinFk\",\r\n      hide: true,\r\n    }\r\n  ]\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/im/St/data.js","import axios from 'axios';\r\n// 布笼详细信息\r\nexport function getCloth(params) {\r\n  return axios({\r\n    url: '/api/clothDetaInformation',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\n// ---- 纱线\r\nexport function getSx(params) {\r\n  return axios({\r\n    url: '/api/whseYarninDtl/v1.0/listByPage',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 胚布\r\nexport function getPb(params) {\r\n  return axios({\r\n    url: '/api/whseCalicoinDtlb/listByPages',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 成品布\r\nexport function getCpb(params) {\r\n  return axios({\r\n    url: '/api/whseFinishedclothinDtl/v1.0/listByPage',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\n// 染化料\r\nexport function getRhl(params) {\r\n  return axios({\r\n    url: '/api/whseChemicalinDtla/v1.0/listByPage',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\n// 生产辅料\r\nexport function getScfl(params) {\r\n  return axios({\r\n    url: '/api/whseAccessoriesDtl/v1.0/listByPage',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\nexport function sendData(params) {\r\n  return axios({\r\n    dataType: \"json\",\r\n    'content-type': 'application/json',\r\n    url: '/api/whsMateInventory/list',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/im/St/index.js","<template>\r\n  <div id=\"preview\">\r\n    <view-container style=\"height: 100%\" :title=\"type + '盘点预览'\">\r\n      <el-row>\r\n        <el-col :span=\"10\">\r\n          <div class=\"btnList\">\r\n            <el-dropdown\r\n              type=\"primary\"\r\n              @click=\"random\"\r\n              :disabled=\"loading\"\r\n              v-show=\"btn\"\r\n              split-button\r\n              >随机选择 {{ length }}\r\n              <!-- <el-button\r\n               \r\n                ></el-button\r\n              > -->\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item @click.native=\"random(1 / 5)\"\r\n                  >1/5</el-dropdown-item\r\n                >\r\n                <el-dropdown-item @click.native=\"random(1 / 4)\"\r\n                  >1/4</el-dropdown-item\r\n                >\r\n                <el-dropdown-item @click.native=\"random(1 / 3)\"\r\n                  >1/3</el-dropdown-item\r\n                >\r\n                <el-dropdown-item @click.native=\"random(1 / 2)\"\r\n                  >1/2</el-dropdown-item\r\n                >\r\n                <el-dropdown-item @click.native=\"random(1 / 1)\"\r\n                  >1/1</el-dropdown-item\r\n                >\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n            <el-button\r\n              style=\"margin-left: 10px\"\r\n              type=\"primary\"\r\n              @click=\"pandian\"\r\n              :disabled=\"loading\"\r\n              v-show=\"btn\"\r\n              >开始盘点</el-button\r\n            >\r\n            <!-- <el-button\r\n              type=\"primary\"\r\n              @click=\"pandianed\"\r\n              v-if=\"finishList.length > 0\"\r\n              >已盘点</el-button\r\n            > -->\r\n            <el-button\r\n              type=\"primary\"\r\n              @click=\"nextPd\"\r\n              v-if=\"\r\n                finishList.length > 0 && queue[this.pdIndex + 1] != undefined\r\n              \"\r\n              >继续盘点</el-button\r\n            >\r\n            <el-button\r\n              type=\"primary\"\r\n              @click=\"over\"\r\n              v-if=\"\r\n                finishList.length > 0 && queue[this.pdIndex + 1] === undefined\r\n              \"\r\n              >生成盈亏记录</el-button\r\n            >\r\n            <el-button type=\"danger\" @click=\"preClose\" :disabled=\"loading\"\r\n              >关闭</el-button\r\n            >\r\n          </div>\r\n          <div class=\"crudBox\" style=\"margin-top: -5px\">\r\n            <avue-crud\r\n              v-loading=\"loading\"\r\n              ref=\"pandian\"\r\n              :data=\"data\"\r\n              :option=\"crudOp\"\r\n              @current-row-change=\"cellClick\"\r\n              @row-dblclick=\"handleRowDBLClick\"\r\n            ></avue-crud>\r\n          </div>\r\n          <div class=\"logBox\" v-if=\"log != ''\">\r\n            <el-tabs type=\"border-card\" v-model=\"logOrPd\">\r\n              <el-tab-pane name=\"logs\" label=\"日志\">\r\n                <el-input\r\n                  v-html=\"log\"\r\n                  type=\"textarea\"\r\n                  :rows=\"13\"\r\n                  v-model=\"log\"\r\n                  readonly\r\n                >\r\n                </el-input>\r\n              </el-tab-pane>\r\n              <el-tab-pane name=\"pd\" label=\"已盘点\">\r\n                <avue-crud\r\n                  ref=\"pandianed\"\r\n                  v-loading=\"loading\"\r\n                  :data=\"finishList\"\r\n                  :option=\"ydpOp\"\r\n                >\r\n                </avue-crud>\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </div>\r\n          <div class=\"queueBox\">\r\n            <div\r\n              :style=\"{\r\n                width: queue.length * 102 + 'px',\r\n              }\"\r\n              class=\"queueContent\"\r\n            >\r\n              <div\r\n                class=\"queueList\"\r\n                v-for=\"(list, index) of queue\"\r\n                :key=\"list.boxId\"\r\n                @click=\"queueClick(list.boxCarId)\"\r\n                :style=\"{\r\n                  backgroundColor:\r\n                    list.state === 1 ? 'red' : list.state === 2 ? 'green' : '',\r\n                }\"\r\n              >\r\n                {{ list.boxCarId }}\r\n                <span\r\n                  v-if=\"list.state != 2\"\r\n                  class=\"delqueue\"\r\n                  @click.stop=\"delQueue(index)\"\r\n                  >X</span\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"14\">\r\n          <boxLoc\r\n            ref=\"boxLoc\"\r\n            :leftWidth=\"'calc(100vw - 835px)'\"\r\n            :checkData=\"crudData\"\r\n          ></boxLoc>\r\n        </el-col>\r\n      </el-row>\r\n      <el-dialog\r\n        width=\"50%\"\r\n        title=\"盘点明细\"\r\n        :visible.sync=\"innerVisible\"\r\n        append-to-body\r\n        :show-close=\"false\"\r\n        :close-on-click-modal=\"false\"\r\n        :close-on-press-escape=\"false\"\r\n        @close=\"closeBefore\"\r\n        class=\"pdDlg\"\r\n      >\r\n        <div class=\"btnList\">\r\n          <el-button type=\"primary\" @click=\"finish\" :disabled=\"loading\"\r\n            >完成</el-button\r\n          >\r\n        </div>\r\n        <avue-crud\r\n          v-loading=\"loading\"\r\n          ref=\"chengzhong\"\r\n          :data=\"chengzhong\"\r\n          :option=\"crudOp\"\r\n          @current-row-change=\"cellClick\"\r\n        >\r\n          <template slot-scope=\"scope\" slot=\"menu\">\r\n            <el-button type=\"primary\" @click=\"getWeight\">称重</el-button>\r\n          </template>\r\n        </avue-crud>\r\n      </el-dialog>\r\n      <!-- <el-dialog\r\n        width=\"100%\"\r\n        title=\"已盘点明细\"\r\n        :visible.sync=\"pdDlg\"\r\n        append-to-body\r\n        :modal=\"false\"\r\n        :close-on-click-modal=\"false\"\r\n        class=\"ypdDlg\"\r\n        @close=\"pdClose\"\r\n      >\r\n       \r\n      </el-dialog> -->\r\n    </view-container>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getDIC, getDicT } from \"@/config/index\";\r\nimport boxLoc from \"../../iq/Gq/index\";\r\nimport { sendData } from \"@/api/im/St/index\";\r\nimport { webSocket } from \"@/config/index.js\";\r\nexport default {\r\n  name: \"\",\r\n  props: {\r\n    type: String,\r\n    crudData: Array,\r\n    locInfo: Array,\r\n  },\r\n  components: {\r\n    boxLoc,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      pdDlg: false,\r\n      logOrPd: \"logs\",\r\n      innerVisible: false,\r\n      data: [],\r\n      chengzhong: [],\r\n      finishList: [],\r\n      length: 1,\r\n      btn: true,\r\n      log: \"\",\r\n      queue: [],\r\n      oldData: {},\r\n      czsocket: \"\",\r\n      pdIndex: 0,\r\n      crudOp: {\r\n        menu: false,\r\n        addBtn: false,\r\n        delBtn: false,\r\n        editBtn: false,\r\n        cancelBtn: false,\r\n        menuWidth: 90,\r\n        border: true,\r\n        // selection: true,\r\n        reserveSelection: true,\r\n        highlightCurrentRow: true,\r\n        height: 400,\r\n        rowKey: \"whseCalicoinDtlboid\",\r\n        column: [\r\n          {\r\n            label: \"#\",\r\n            prop: \"index\",\r\n            // cell: true,\r\n            width: 50,\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"来胚入库批号资料OID\",\r\n            prop: \"whseCalicoinDtlboid\",\r\n            hide: true,\r\n          },\r\n          {\r\n            label: \"来胚入库明细_FK\",\r\n            prop: \"whseCalicoinDtlaFk\",\r\n            hide: true,\r\n          },\r\n          {\r\n            label: \"批号\",\r\n            prop: \"batchNo\",\r\n            cell: false,\r\n            width: 180,\r\n          },\r\n          {\r\n            label: \"疋号\",\r\n            prop: \"countingNo\",\r\n            cell: false,\r\n            width: 150,\r\n            align: \"right\",\r\n          },\r\n\r\n          {\r\n            label: \"客人布票号\",\r\n            prop: \"custTicket\",\r\n            cell: false,\r\n            width: 150,\r\n            hide: true,\r\n          },\r\n\r\n          {\r\n            label: \"重量\",\r\n            prop: \"weight\",\r\n            cell: false,\r\n            width: 100,\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"盘点重量\",\r\n            prop: \"caliWeight\",\r\n            cell: true,\r\n            width: 130,\r\n            align: \"right\",\r\n            hide: true,\r\n          },\r\n          {\r\n            label: \"重量单位\",\r\n            prop: \"weightUnit\",\r\n            cell: false,\r\n            hide: false,\r\n            width: 110,\r\n            type: \"select\",\r\n            dicData: getDIC(\"Whse_Transfer_unit\"),\r\n          },\r\n          {\r\n            label: \"通过\",\r\n            prop: \"pass\",\r\n            cell: true,\r\n            type: \"select\",\r\n            hide: true,\r\n            dicData: [\r\n              {\r\n                value: false,\r\n                label: \"否\",\r\n              },\r\n              {\r\n                value: true,\r\n                label: \"是\",\r\n              },\r\n            ],\r\n            width: 120,\r\n          },\r\n          {\r\n            label: \"储存位置\",\r\n            prop: \"boxCarId\",\r\n            cell: false,\r\n            width: 120,\r\n            // props: {\r\n            //   value: \"boxCarId\",\r\n            //   label: \"boxId\",\r\n            // },\r\n            // type: \"select\",\r\n            // dicData: [],\r\n          },\r\n          // {\r\n          //   label: \"称重\",\r\n          //   prop: \"cz\",\r\n          //   slot: true,\r\n          //   hide: false,\r\n          //   width: 110,\r\n          // },\r\n        ],\r\n      },\r\n      ydpOp: {\r\n        menu: false,\r\n        addBtn: false,\r\n        delBtn: false,\r\n        editBtn: false,\r\n        cancelBtn: false,\r\n        menuWidth: 90,\r\n        border: true,\r\n        // selection: true,\r\n        reserveSelection: true,\r\n        highlightCurrentRow: true,\r\n        height: \"calc(100vh - 650px)\",\r\n        rowKey: \"whseCalicoinDtlboid\",\r\n        column: [\r\n          {\r\n            label: \"#\",\r\n            prop: \"index\",\r\n            // cell: true,\r\n            width: 50,\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"来胚入库批号资料OID\",\r\n            prop: \"whseCalicoinDtlboid\",\r\n            hide: true,\r\n          },\r\n          {\r\n            label: \"来胚入库明细_FK\",\r\n            prop: \"whseCalicoinDtlaFk\",\r\n            hide: true,\r\n          },\r\n          {\r\n            label: \"批号\",\r\n            prop: \"batchNo\",\r\n            cell: false,\r\n            width: 150,\r\n          },\r\n          {\r\n            label: \"疋号\",\r\n            prop: \"countingNo\",\r\n            cell: false,\r\n            width: 100,\r\n            align: \"right\",\r\n          },\r\n\r\n          {\r\n            label: \"客人布票号\",\r\n            prop: \"custTicket\",\r\n            cell: false,\r\n            width: 150,\r\n            hide: true,\r\n          },\r\n\r\n          {\r\n            label: \"重量\",\r\n            prop: \"weight\",\r\n            cell: false,\r\n            width: 100,\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"盘点重量\",\r\n            prop: \"caliWeight\",\r\n            cell: true,\r\n            width: 130,\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"重量单位\",\r\n            prop: \"weightUnit\",\r\n            cell: true,\r\n            hide: false,\r\n            type: \"select\",\r\n            dicData: getDIC(\"Whse_Transfer_unit\"),\r\n            width: 110,\r\n          },\r\n          {\r\n            label: \"通过\",\r\n            prop: \"pass\",\r\n            cell: true,\r\n            type: \"select\",\r\n            hide: false,\r\n            dicData: [\r\n              {\r\n                value: false,\r\n                label: \"否\",\r\n              },\r\n              {\r\n                value: true,\r\n                label: \"是\",\r\n              },\r\n            ],\r\n            width: 100,\r\n          },\r\n          {\r\n            label: \"储存位置\",\r\n            prop: \"boxCarId\",\r\n            width: 120,\r\n            // cell: false,\r\n            // width: 120,\r\n            // props: {\r\n            //   value: \"boxCarId\",\r\n            //   label: \"boxId\",\r\n            // },\r\n            // type: \"select\",\r\n            // dicData: [],\r\n          },\r\n          // {\r\n          //   label: \"称重\",\r\n          //   prop: \"cz\",\r\n          //   slot: true,\r\n          //   hide: false,\r\n          //   width: 110,\r\n          // },\r\n        ],\r\n      },\r\n      oldArea: {},\r\n      oldCheck: {},\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    setCz() {\r\n      webSocket.setCz(this);\r\n      let _this = this;\r\n      //接收到消息的回调方法\r\n      _this.czsocket.onmessage = function (event) {\r\n        _this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            _this.oldData.caliWeight = event.data;\r\n            _this.oldData.$cellEdit = false;\r\n            // _this.$refs.chengzhong.setCurrentRow(_this.oldData);\r\n            _this.oldData.$cellEdit = true;\r\n            _this.loading = false;\r\n          }, 200);\r\n        });\r\n      };\r\n    },\r\n    setData() {\r\n      this.data = this.arrGroup(this.crudData);\r\n    },\r\n    random(length) {\r\n      if (typeof length === \"number\") {\r\n        this.length = Math.ceil(length * this.data.length);\r\n        length = this.length;\r\n      } else {\r\n        length = this.length;\r\n      }\r\n      this.queue = [];\r\n      //原始数组\r\n      var original = new Array();\r\n      //给原始数组original赋值\r\n      for (var i = 0; i < this.data.length; i++) {\r\n        original[i] = i;\r\n      }\r\n      //排序\r\n      original.sort(function () {\r\n        return 0.5 - Math.random();\r\n      });\r\n      //输出\r\n      for (var i = 0; i < length; i++) {\r\n        this.data[original[i]].check = false;\r\n        this.queue.push(this.data[original[i]]);\r\n      }\r\n    },\r\n    pandian() {\r\n      // 开始盘点\r\n      if (this.queue.length === 0) {\r\n        this.$tip.warning(\"请选择盘点货物!\");\r\n        return;\r\n      }\r\n      this.$tip\r\n        .cofirm(\"是否开始盘点流程?\", this)\r\n        .then(() => {\r\n          this.log +=\r\n            \"开始盘点,等待 【\" + this.queue[0].boxCarId + \"】 出库 ···<br/>\";\r\n          this.btn = false;\r\n          this.queue[0].state = 1;\r\n          this.queueClick(\"52-5-1\");\r\n          this.moniCc(this.queue[0]);\r\n          this.pdIndex = 0;\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    handleRowDBLClick(val) {\r\n      if (this.queue.length === 0) {\r\n        this.queue.push(val);\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.queue.length; i++) {\r\n        if (val.boxCarId === this.queue[i].boxCarId) {\r\n          return;\r\n        }\r\n        if (\r\n          i === this.queue.length - 1 &&\r\n          val.boxCarId != this.queue[i].boxCarId\r\n        ) {\r\n          this.queue.push(val);\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    moniCc(val) {\r\n      // 模拟出库\r\n      setTimeout(() => {\r\n        for (let i = 0; i < this.$refs.boxLoc.area.list.length; i++) {\r\n          if (\r\n            this.$refs.boxLoc.area.list[i].areaName ===\r\n            \"验布\" + (this.pdIndex + 1)\r\n          ) {\r\n            this.oldArea = this.$refs.boxLoc.area.list[i];\r\n            this.$set(this.$refs.boxLoc.area.list[i], \"check\", true);\r\n            break;\r\n          }\r\n        }\r\n        this.log +=\r\n          \"【\" + val.boxCarId + \"】 出库至【验布1】成功，等待盘点 ···<br/>\";\r\n        this.chengzhong = val.children;\r\n        this.crudOp.column[0].hide = true;\r\n        this.crudOp.column[7].hide = false;\r\n        // this.crudOp.column[8].hide = false;\r\n        this.crudOp.column[9].hide = false;\r\n        this.crudOp.menu = true;\r\n        this.innerVisible = true;\r\n      }, 2000);\r\n    },\r\n    getWeight() {\r\n      //称重\r\n      this.loading = true;\r\n      this.czsocket.send(\"msg\");\r\n    },\r\n    finish() {\r\n      // 完成\r\n      for (let i = 0; i < this.chengzhong.length; i++) {\r\n        if (\r\n          this.chengzhong[i].pass === \"\" ||\r\n          this.chengzhong[i].pass === undefined\r\n        ) {\r\n          this.$tip.warning(\"请选择是否通过！\");\r\n          return;\r\n        }\r\n      }\r\n      for (let i = 0; i < this.queue.length; i++) {\r\n        if (this.queue[this.pdIndex].state === 1) {\r\n          this.queue[this.pdIndex].state = 2;\r\n          break;\r\n        }\r\n      }\r\n\r\n      this.finishList = this.finishList.concat(this.chengzhong);\r\n      this.finishList.forEach((item, index) => {\r\n        item.index = index + 1;\r\n      });\r\n      this.oldData.$cellEdit = false;\r\n      this.innerVisible = false;\r\n      this.oldArea.check = false;\r\n      this.log +=\r\n        \"【\" +\r\n        this.queue[this.pdIndex].boxCarId +\r\n        \"】 盘点成功，请重新入库 ···<br/>\";\r\n    },\r\n    nextPd() {\r\n      if (this.queue[this.pdIndex + 1] === undefined) {\r\n        this.$tip.error(\"无!\");\r\n        return;\r\n      }\r\n      this.log +=\r\n        \"开始盘点,等待 【\" +\r\n        this.queue[++this.pdIndex].boxCarId +\r\n        \"】 出库 ···<br/>\";\r\n      this.queue[this.pdIndex].state = 1;\r\n      this.queueClick(\"52-5-1\");\r\n      this.moniCc(this.queue[this.pdIndex]);\r\n    },\r\n    pandianed() {\r\n      // 已盘点\r\n      this.finishList.forEach((item, index) => {\r\n        item.index = index + 1;\r\n      });\r\n      // this.loading = true;\r\n      // this.oldData.$cellEdit = false;\r\n      // this.pdDlg = true;\r\n      // this.crudOp.column[0].prop = \"index\";\r\n      // this.crudOp.column[7].hide = false;\r\n      // this.crudOp.column[9].hide = false;\r\n      // this.loading = false;\r\n    },\r\n    over() {\r\n      sendData(this.finishList).then((res) => {\r\n        if (res.data === \"ok\") {\r\n          this.$tip.success(\"操作成功！\");\r\n        }\r\n      });\r\n    },\r\n    delQueue(index) {\r\n      this.queue.splice(index, 1);\r\n    },\r\n    preClose() {\r\n      document.getElementsByClassName(\"el-dialog__headerbtn\")[1].click();\r\n    },\r\n    closeBefore() {\r\n      this.crudOp.column[0].hide = false;\r\n      this.crudOp.column[7].hide = true;\r\n\r\n      this.crudOp.column[9].hide = true;\r\n      this.crudOp.menu = false;\r\n    },\r\n    pdClose() {\r\n      this.crudOp.column[0].prop = \"#\";\r\n      this.crudOp.column[7].hide = true;\r\n      this.crudOp.column[9].hide = true;\r\n    },\r\n    queueClick(val) {\r\n      this.$set(this.oldCheck, \"highLight\", false);\r\n      let x = val.split(\"-\")[0];\r\n      let y = val.split(\"-\")[1];\r\n      let data = this.$refs.boxLoc.data;\r\n      for (let i = 0; i < data[y - 1].list.length; i++) {\r\n        if (val === this.$refs.boxLoc.data[y - 1].list[i].boxCarId) {\r\n          this.$set(this.$refs.boxLoc.data[y - 1].list[i], \"highLight\", true);\r\n          this.oldCheck = this.$refs.boxLoc.data[y - 1].list[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      let dom = document.getElementsByClassName(\"content\")[0];\r\n      dom.scrollLeft = (val.split(\"-\")[0] - 9) * 70;\r\n      dom.scrollTop = (val.split(\"-\")[1] - 6) * 70;\r\n    },\r\n    cellClick(val) {\r\n      this.oldData.$cellEdit = false;\r\n      this.$set(val, \"$cellEdit\", true);\r\n      this.oldData = val;\r\n      if (!this.innerVisible) {\r\n        this.queueClick(val.boxCarId);\r\n      }\r\n    },\r\n    arrGroup(arr) {\r\n      var map = {},\r\n        dest = [];\r\n      for (var i = 0; i < arr.length; i++) {\r\n        var ai = arr[i];\r\n        if (!map[ai.boxCarId]) {\r\n          dest.push({\r\n            boxCarId: ai.boxCarId,\r\n            boxCarId: ai.boxCarId,\r\n            whseCalicoinDtlboid: ai.boxCarId,\r\n            children: [ai],\r\n            countingNo: ai.countingNo,\r\n            batchNo: ai.batchNo,\r\n            // seqQty: dest.length + 1,\r\n            weight: ai.weight,\r\n            $cellEdit: false,\r\n          });\r\n          map[ai.boxCarId] = ai;\r\n        } else {\r\n          for (var j = 0; j < dest.length; j++) {\r\n            var dj = dest[j];\r\n            if (dj.boxCarId == ai.boxCarId) {\r\n              dj.children.push(ai);\r\n              dj.weight += ai.weight;\r\n              dj.countingNo += \",\" + ai.countingNo;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return dest;\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.crudOp.column[10].dicData = this.locInfo;\r\n    this.ydpOp.column[10].dicData = this.locInfo;\r\n    this.setData();\r\n    this.setCz();\r\n  },\r\n  beforeDestroy() {\r\n    this.czsocket.close();\r\n  },\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n.el-dropdown-menu--mini .el-dropdown-menu__item {\r\n  font-size: 16px !important;\r\n  padding: 4px 6px;\r\n}\r\n\r\n.ypdDlg {\r\n  width: 30%;\r\n  margin-left: 70%;\r\n\r\n  .el-dialog {\r\n    margin-top: 0 !important;\r\n    float: right;\r\n  }\r\n}\r\n\r\n.pdDlg {\r\n  .el-table th>.cell {\r\n    font-size: 17px;\r\n  }\r\n\r\n  th.is-leaf {\r\n    line-height: 25px;\r\n  }\r\n\r\n  .el-dialog__header {\r\n    padding: 10px 20px 0;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n#preview {\r\n  background: #021a3c;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  .logBox {\r\n    width: 99%;\r\n    margin: 0 auto;\r\n\r\n    .el-input--mini {\r\n      padding-left: 5px;\r\n      // background-color: #fff;\r\n      // border: 1px solid #fff;\r\n      height: calc(100vh - 645px) !important;\r\n      font-size: 16px !important;\r\n      letter-spacing: 1px;\r\n    }\r\n  }\r\n\r\n  .queueBox {\r\n    width: 100%;\r\n    // height: 105px;\r\n    // position: absolute;\r\n    // bottom: 0;\r\n    // left: 0;\r\n    border: 1px solid #fff;\r\n    overflow: auto;\r\n\r\n    .queueContent {\r\n    }\r\n\r\n    .queueList {\r\n      float: left;\r\n      width: 100px;\r\n      height: 50px;\r\n      line-height: 50px;\r\n      text-align: center;\r\n      border: 1px solid #fff;\r\n      font-size: 18px;\r\n      position: relative;\r\n\r\n      >span {\r\n        position: absolute;\r\n        top: -15px;\r\n        right: 5px;\r\n        font-size: 16px;\r\n        color: red;\r\n        font-weight: bold;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-table__row--level-0 {\r\n    background-color: rgb(223, 223, 223);\r\n  }\r\n\r\n  .el-table__indent {\r\n    height: 0;\r\n    display: none !important;\r\n  }\r\n\r\n  .el-input__inner {\r\n    font-size: 16px;\r\n  }\r\n\r\n  .el-form-item__label {\r\n    color: #fff;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .el-tabs--border-card, .el-tabs--border-card>.el-tabs__header, .el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active {\r\n    background-color: rgb(2, 26, 60) !important;\r\n    color: #fff;\r\n  }\r\n\r\n  .el-row {\r\n    background-color: rgb(2, 26, 60);\r\n    height: calc(100vh - 95px);\r\n  }\r\n\r\n  .el-textarea__inner {\r\n    height: calc(100vh - 600px) !important;\r\n  }\r\n\r\n  .el-table__body tr.current-row>td, .el-table__body tr:hover>td {\r\n    background-color: rgb(245, 108, 108) !important;\r\n  }\r\n\r\n  // .el-table__fixed-body-wrapper {\r\n  // top: 40px !important;\r\n  // }\r\n\r\n  // .is-leaf:first-child {\r\n  // border-bottom: none !important;\r\n  // }\r\n  .el-tag--mini {\r\n    display: none;\r\n  }\r\n\r\n  .area, .cabinet {\r\n    text-align: center;\r\n  }\r\n\r\n  .cabinet:hover {\r\n    opacity: 0.6 !important;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/im/St/preview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"preview\"}},[_c('view-container',{staticStyle:{\"height\":\"100%\"},attrs:{\"title\":_vm.type + '盘点预览'}},[_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"btnList\"},[_c('el-dropdown',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.btn),expression:\"btn\"}],attrs:{\"type\":\"primary\",\"disabled\":_vm.loading,\"split-button\":\"\"},on:{\"click\":_vm.random}},[_vm._v(\"随机选择 \"+_vm._s(_vm.length)+\"\\n            \"),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.random(1 / 5)}}},[_vm._v(\"1/5\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.random(1 / 4)}}},[_vm._v(\"1/4\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.random(1 / 3)}}},[_vm._v(\"1/3\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.random(1 / 2)}}},[_vm._v(\"1/2\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.random(1 / 1)}}},[_vm._v(\"1/1\")])],1)],1),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.btn),expression:\"btn\"}],staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.pandian}},[_vm._v(\"开始盘点\")]),_vm._v(\" \"),(\n              _vm.finishList.length > 0 && _vm.queue[this.pdIndex + 1] != undefined\n            )?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.nextPd}},[_vm._v(\"继续盘点\")]):_vm._e(),_vm._v(\" \"),(\n              _vm.finishList.length > 0 && _vm.queue[this.pdIndex + 1] === undefined\n            )?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.over}},[_vm._v(\"生成盈亏记录\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":_vm.loading},on:{\"click\":_vm.preClose}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"crudBox\",staticStyle:{\"margin-top\":\"-5px\"}},[_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"pandian\",attrs:{\"data\":_vm.data,\"option\":_vm.crudOp},on:{\"current-row-change\":_vm.cellClick,\"row-dblclick\":_vm.handleRowDBLClick}})],1),_vm._v(\" \"),(_vm.log != '')?_c('div',{staticClass:\"logBox\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},model:{value:(_vm.logOrPd),callback:function ($$v) {_vm.logOrPd=$$v},expression:\"logOrPd\"}},[_c('el-tab-pane',{attrs:{\"name\":\"logs\",\"label\":\"日志\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":13,\"readonly\":\"\"},domProps:{\"innerHTML\":_vm._s(_vm.log)},model:{value:(_vm.log),callback:function ($$v) {_vm.log=$$v},expression:\"log\"}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"pd\",\"label\":\"已盘点\"}},[_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"pandianed\",attrs:{\"data\":_vm.finishList,\"option\":_vm.ydpOp}})],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"queueBox\"},[_c('div',{staticClass:\"queueContent\",style:({\n              width: _vm.queue.length * 102 + 'px',\n            })},_vm._l((_vm.queue),function(list,index){return _c('div',{key:list.boxId,staticClass:\"queueList\",style:({\n                backgroundColor:\n                  list.state === 1 ? 'red' : list.state === 2 ? 'green' : '',\n              }),on:{\"click\":function($event){return _vm.queueClick(list.boxCarId)}}},[_vm._v(\"\\n              \"+_vm._s(list.boxCarId)+\"\\n              \"),(list.state != 2)?_c('span',{staticClass:\"delqueue\",on:{\"click\":function($event){$event.stopPropagation();return _vm.delQueue(index)}}},[_vm._v(\"X\")]):_vm._e()])}),0)])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14}},[_c('boxLoc',{ref:\"boxLoc\",attrs:{\"leftWidth\":'calc(100vw - 835px)',\"checkData\":_vm.crudData}})],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"pdDlg\",attrs:{\"width\":\"50%\",\"title\":\"盘点明细\",\"visible\":_vm.innerVisible,\"append-to-body\":\"\",\"show-close\":false,\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.innerVisible=$event},\"close\":_vm.closeBefore}},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.finish}},[_vm._v(\"完成\")])],1),_vm._v(\" \"),_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"chengzhong\",attrs:{\"data\":_vm.chengzhong,\"option\":_vm.crudOp},on:{\"current-row-change\":_vm.cellClick},scopedSlots:_vm._u([{key:\"menu\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getWeight}},[_vm._v(\"称重\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40f1bb18\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/im/St/preview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40f1bb18\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./preview.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./preview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./preview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40f1bb18\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./preview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/im/St/preview.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"imSt\">\r\n    <view-container title=\"库存盘点\">\r\n      <div class=\"btnList\">\r\n        <!-- <el-button type=\"primary\" @click=\"add\" :disabled=\"loading\"\r\n          >新增</el-button\r\n        ><el-button type=\"primary\" @click=\"update\" :disabled=\"loading\"\r\n          >修改</el-button\r\n        ><el-button type=\"danger\" @click=\"del\" :disabled=\"loading\"\r\n          >删除</el-button\r\n        >\r\n        <el-button type=\"success\" @click=\"sava\" :disabled=\"loading\"\r\n          >保存</el-button\r\n        ><el-button type=\"info\" @click=\"getData\" :disabled=\"loading\"\r\n          >取消</el-button\r\n        >\r\n           </div> -->\r\n\r\n        <el-button type=\"primary\" @click=\"preview\" :disabled=\"loading\"\r\n          >盘点</el-button\r\n        >\r\n        <el-button type=\"primary\" @click=\"getData\" :disabled=\"loading\"\r\n          >查询</el-button\r\n        >\r\n        <!-- <el-button type=\"danger\" @click=\"close\" :disabled=\"loading\"\r\n          >关闭</el-button\r\n        > -->\r\n      </div>\r\n      <div class=\"formBox\" style=\"margin-top: 10px\">\r\n        <avue-form ref=\"form\" v-model=\"form\" :option=\"formOp\"> </avue-form>\r\n      </div>\r\n      <el-card>\r\n        <el-tabs type=\"border-card\" v-model=\"tabs\">\r\n          <el-tab-pane label=\"纱线\" name=\"sx\"> </el-tab-pane>\r\n          <el-tab-pane label=\"胚布\" name=\"pb\"> </el-tab-pane>\r\n          <el-tab-pane label=\"成品布\" name=\"cpb\"> </el-tab-pane>\r\n          <el-tab-pane label=\"染化料\" name=\"rhl\"> </el-tab-pane>\r\n          <el-tab-pane label=\"生产辅料/五金、行政用品\" name=\"scfl\">\r\n          </el-tab-pane>\r\n          <!-- <el-tab-pane label=\"\" name=\"wj\"> </el-tab-pane> -->\r\n        </el-tabs>\r\n        <div class=\"crudBox\">\r\n          <avue-crud\r\n            v-loading=\"loading\"\r\n            ref=\"crud1\"\r\n            :data=\"crudData\"\r\n            :option=\"crudOp\"\r\n            @on-load=\"getData(tabs)\"\r\n            :page.sync=\"page\"\r\n            @selection-change=\"selectionChange\"\r\n          ></avue-crud>\r\n        </div>\r\n      </el-card>\r\n      <el-dialog\r\n        id=\"stDlg\"\r\n        :visible.sync=\"dialogVisible\"\r\n        v-if=\"dialogVisible\"\r\n        width=\"100%\"\r\n        append-to-body\r\n        :close-on-click-modal=\"false\"\r\n        :close-on-press-escape=\"false\"\r\n      >\r\n        <preview\r\n          :type=\"tle\"\r\n          :locInfo=\"locInfo\"\r\n          :crudData=\"selectionData\"\r\n        ></preview>\r\n      </el-dialog>\r\n    </view-container>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  sxForm,\r\n  sxCrud,\r\n  pbForm,\r\n  pbCrud,\r\n  cpbForm,\r\n  cpbCrud,\r\n  scflForm,\r\n  scflCrud,\r\n  rhlForm,\r\n  rhlCrud,\r\n} from \"./data\";\r\nimport {\r\n  getSx,\r\n  getPb,\r\n  getCpb,\r\n  getRhl,\r\n  getScfl,\r\n  getCloth,\r\n} from \"@/api/im/St/index\";\r\nimport preview from \"./preview\";\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    preview,\r\n  },\r\n  data() {\r\n    return {\r\n      tabs: \"sx\",\r\n      dialogVisible: false,\r\n      loading: false,\r\n      page: {\r\n        pageSize: 10,\r\n        total: 0,\r\n        currentPage: 1,\r\n      },\r\n      locInfo: [],\r\n      chooseData: {},\r\n      oldData: {}, // 记录上一次点击编辑\r\n      changeList: [], // 记录修改的对象\r\n      form: {},\r\n      formOp: sxForm,\r\n      crudData: [\r\n        {\r\n          index: 1,\r\n        },\r\n      ],\r\n      func: null,\r\n      data: {\r\n        sx: [],\r\n        pb: [],\r\n        cpb: [],\r\n        rhl: [],\r\n        scfl: [],\r\n      },\r\n      crudOp: sxCrud,\r\n      selectionData: [],\r\n      tle: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    tabs: {\r\n      handler(newVal, oldVal) {\r\n        this.selectionData = [];\r\n        switch (newVal) {\r\n          case \"sx\":\r\n            // this.getData(\"Sx\", getSx);\r\n            this.formOp = sxForm;\r\n            this.crudOp = sxCrud;\r\n            this.func = getSx;\r\n            this.tle = \"纱线\";\r\n            break;\r\n          case \"pb\":\r\n            this.formOp = pbForm;\r\n            this.crudOp = pbCrud;\r\n            this.func = getPb;\r\n            this.tle = \"胚布\";\r\n            break;\r\n          case \"cpb\":\r\n            this.formOp = cpbForm;\r\n            this.crudOp = cpbCrud;\r\n            this.func = getCpb;\r\n            this.tle = \"成品布\";\r\n            break;\r\n          case \"rhl\":\r\n            this.formOp = rhlForm;\r\n            this.crudOp = rhlCrud;\r\n            this.tle = \"染化料\";\r\n            this.func = getRhl;\r\n            break;\r\n          default:\r\n            this.formOp = scflForm;\r\n            this.crudOp = scflCrud;\r\n            this.func = getScfl;\r\n            this.tle = \"生产辅料/五金/行政用品\";\r\n        }\r\n        this.getData(this.tabs);\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    getData(val) {\r\n      this.loading = true;\r\n      if (this.selectionData.length > 0) {\r\n        this.selectionData = [];\r\n        this.$refs.crud1.selectClear();\r\n      }\r\n\r\n      for (var key in this.form) {\r\n        if (this.form[key] === \"\") {\r\n          delete this.form[key];\r\n        }\r\n      }\r\n      this.func(\r\n        Object.assign(this.form, {\r\n          // page: this.page.currentPage,\r\n          rows: this.page.pageSize,\r\n          start: (this.page.currentPage - 1) * this.page.pageSize + 1,\r\n        })\r\n      )\r\n        .then((res) => {\r\n          res.data.records.forEach((item, index) => {\r\n            item.seqQty = index + 1;\r\n          });\r\n          this.data[val] = res.data.records;\r\n          this.crudData = this.data[val];\r\n          this.page.total = res.data.total;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    add() {\r\n      if (Object.keys(this.oldData).length > 0) {\r\n        this.oldData.$cellEdit = false;\r\n      }\r\n      this.data.push({\r\n        index: this.data.length + 1,\r\n        $cellEdit: true,\r\n      });\r\n      this.oldData = this.data[this.data.length - 1];\r\n      this.$nextTick(() => {\r\n        // 绑定 输入 事件\r\n        let _this = this;\r\n        document\r\n          .getElementsByClassName(\"el-table__row\")\r\n          [_this.data.length - 1].addEventListener(\r\n            \"input\",\r\n            function () {\r\n              _this.iptChange(_this.oldData);\r\n            },\r\n            false\r\n          );\r\n      });\r\n    },\r\n    iptChange(val) {\r\n      if (this.changeList.length === 0) {\r\n        this.changeList.push(val);\r\n      } else {\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (val.index === this.changeList[i].index) {\r\n            this.changeList[i] = val;\r\n            return;\r\n          }\r\n          if (\r\n            this.changeList.length - 1 === i &&\r\n            this.changeList[i].index != val.index\r\n          ) {\r\n            this.changeList.push(val);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    update() {},\r\n    del() {},\r\n    sava() {\r\n      this.oldData.$cellEdit = false;\r\n    },\r\n    cancel() {},\r\n    query() {},\r\n    preview() {\r\n      this.dialogVisible = true;\r\n    },\r\n    selectionChange(val) {\r\n      this.selectionData = val;\r\n    },\r\n    close() {\r\n      document.getElementsByClassName(\"el-dialog__headerbtn\")[1].click();\r\n    },\r\n    del(row, index) {\r\n      const data = row.classifyId;\r\n      cofirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {})\r\n        .then(() => {\r\n          this.$axios\r\n            .delete(\"/api/iotEquipmentType?classifyId=\" + data)\r\n            .then((res) => {\r\n              if (res.data.code == 0) {\r\n                success(\"删除成功\");\r\n                this.handleList();\r\n              } else {\r\n                warning(\"删除失败\");\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              error(\"服务器错误\");\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    getCloth().then((res) => {\r\n      pbCrud.column[8].dicData = res.data;\r\n      this.locInfo = res.data;\r\n    });\r\n  },\r\n  mounted() {},\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n#stDlg {\r\n  .el-dialog {\r\n    margin-top: 0 !important;\r\n    height: 100%;\r\n    margin: 0 !important;\r\n    background-color: rgb(2, 26, 60);\r\n  }\r\n\r\n  .el-dialog__body {\r\n    padding: 0 !important;\r\n    height: 99%;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .el-dialog__header {\r\n    padding: 1px;\r\n    background-color: rgb(2, 26, 60);\r\n  }\r\n\r\n  .el-dialog__headerbtn .el-dialog__close {\r\n    color: #fff;\r\n    font-size: 24px;\r\n  }\r\n\r\n  .el-dialog__headerbtn {\r\n    font-size: 18px;\r\n    top: 6px;\r\n    z-index: 2020;\r\n  }\r\n}\r\n\r\n#imSt {\r\n  .crudBox {\r\n    margin-top: 5px !important;\r\n  }\r\n\r\n  .el-form-item--mini.el-form-item {\r\n    margin-bottom: 8px !important;\r\n  }\r\n\r\n  .el-tag--mini {\r\n    display: none;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/im/St/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"imSt\"}},[_c('view-container',{attrs:{\"title\":\"库存盘点\"}},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.preview}},[_vm._v(\"盘点\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"formBox\",staticStyle:{\"margin-top\":\"10px\"}},[_c('avue-form',{ref:\"form\",attrs:{\"option\":_vm.formOp},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}})],1),_vm._v(\" \"),_c('el-card',[_c('el-tabs',{attrs:{\"type\":\"border-card\"},model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('el-tab-pane',{attrs:{\"label\":\"纱线\",\"name\":\"sx\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"胚布\",\"name\":\"pb\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"成品布\",\"name\":\"cpb\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"染化料\",\"name\":\"rhl\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"生产辅料/五金、行政用品\",\"name\":\"scfl\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"crudBox\"},[_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"crud1\",attrs:{\"data\":_vm.crudData,\"option\":_vm.crudOp,\"page\":_vm.page},on:{\"on-load\":function($event){return _vm.getData(_vm.tabs)},\"update:page\":function($event){_vm.page=$event},\"selection-change\":_vm.selectionChange}})],1)],1),_vm._v(\" \"),(_vm.dialogVisible)?_c('el-dialog',{attrs:{\"id\":\"stDlg\",\"visible\":_vm.dialogVisible,\"width\":\"100%\",\"append-to-body\":\"\",\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('preview',{attrs:{\"type\":_vm.tle,\"locInfo\":_vm.locInfo,\"crudData\":_vm.selectionData}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39c3c714\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/im/St/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39c3c714\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39c3c714\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/im/St/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}