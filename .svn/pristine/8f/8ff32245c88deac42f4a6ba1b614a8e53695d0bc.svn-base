webpackJsonp([41],{Sclt:function(l,e){},zfTM:function(l,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("bOdI"),i=t.n(a),r=t("fZjL"),o=t.n(r),n=t("woOf"),p=t.n(n),c={submitBtn:!1,emptyBtn:!1,labelWidth:130,column:[{label:"纱支位置",prop:"yarnSeat",span:6},{label:"纱线类别",prop:"yarnsType",span:6},{label:"色号",prop:"colorNo",span:6},{label:"批号",prop:"batchNo",span:6},{label:"产地",prop:"placeOrigin",span:6,type:"select",dicData:getDIC("Whse_Origin")},{label:"纱支颜色",prop:"yarnColor",span:6}]},s={menu:!1,addBtn:!1,border:!0,highlightCurrentRow:!0,showSummary:!0,sumColumnList:[{label:"共",name:"yarnUse",type:"sum"}],height:"calc(100vh - 395px)",column:[{label:"Sal_matrequire_dtlaOID",prop:"salMatrequireDtlaoid",width:550,hide:!0},{label:"序号",prop:"index",cell:!0,width:60,align:"right"},{label:"纱支系统编号",prop:"yarnId",cell:!0,width:150},{label:"批号",prop:"batchNo",cell:!0,width:180},{label:"需求用量",prop:"yarnUse",cell:!0,width:100,align:"right"},{label:"纱支位置",prop:"yarnSeat",cell:!0,width:100},{label:"纱线类别",prop:"yarnsType",cell:!0,width:100},{label:"纱线品种",prop:"yarnsKind",cell:!0,width:100},{label:"等级",prop:"yarnsGrade",cell:!0,width:60},{label:"亮度",prop:"yarnsBright",cell:!0,width:60},{label:"纺纱方式",prop:"spinningWay",cell:!0,width:100},{label:"功能",prop:"functions",cell:!0,width:100},{label:"用途",prop:"yarnsUses",cell:!0,width:60},{label:"色号",prop:"colorNo",cell:!0,width:100},{label:"纱牌",prop:"yarnsCard",cell:!0,width:60},{label:"产地",prop:"placeOrigin",cell:!0,width:60,type:"select",dicData:getDIC("Whse_Origin")},{label:"纱长(CM/100G)",prop:"yarnLong",cell:!0,width:275},{label:"路数(根数)",prop:"wayNum",cell:!0,width:150},{label:"损耗(%)",prop:"wastageRate",cell:!0,width:125},{label:"纱支颜色",prop:"yarnColor",cell:!0,width:100},{label:"布料描述",prop:"fabYcount",cell:!0,width:300},{label:"布料总成份",prop:"fabComponents",cell:!0,width:305},{label:"布种",prop:"fabFabrics",cell:!0,width:60},{label:"布料颜色",prop:"colorName",cell:!0,width:100},{label:"用量单位",prop:"useUnit",cell:!0,width:100},{label:"纱支描述",prop:"yarnDesc",cell:!0,width:350},{label:"物料需求FK",prop:"salMatrequireFk",hide:!0,width:150},{label:"订单布料明细FK",prop:"salPoDtlaFk",hide:!0,width:200}]},h={submitBtn:!1,emptyBtn:!1,column:[{label:"布种",prop:"fabFabrics",span:6},{label:"颜色",prop:"colorName",span:6},{label:"客人色号",prop:"custColorNo",span:6},{label:"染厂色号",prop:"dyeColorNo",span:6},{label:"布料类型",prop:"fabType",span:6},{label:"加工类型",prop:"processType",span:6}]},d={menu:!1,addBtn:!1,border:!0,highlightCurrentRow:!0,showSummary:!0,sumColumnList:[{label:"共",name:"fabQty",type:"sum"}],height:"calc(100vh - 235px)",column:[{label:"序号",prop:"index",width:60,align:"right"},{label:"Sal_matrequire_dtlcOID",prop:"salMatrequireDtlcoid",hide:!0,width:550},{label:"布料纱支组合",prop:"fabYcount",hide:!0,width:150},{label:"布料总成份",prop:"fabComponents",cell:!0,width:300},{label:"布种",prop:"fabFabrics",cell:!0,width:80},{label:"颜色",prop:"colorName",cell:!0,width:80},{label:"颜色来源",prop:"colorSource",cell:!0,width:100},{label:"客人色号",prop:"custColorNo",cell:!0,width:120},{label:"染厂色号",prop:"dyeColorNo",cell:!0,width:100},{label:"数量",prop:"fabQty",cell:!0,width:100,align:"right"},{label:"数量单位",prop:"qtyUnit",cell:!0,width:100},{label:"单价",prop:"unitPrice",cell:!0,width:70,align:"right"},{label:"单价单位",prop:"priceUnit",cell:!0,width:100},{label:"币种",prop:"currencyType",cell:!0,width:60},{label:"针数",prop:"pinNumber",cell:!0,width:60,align:"right"},{label:"吋数",prop:"inchNumber",cell:!0,width:60,align:"right"},{label:"幅宽/布封",prop:"fabBreadth",cell:!0,width:125,align:"right"},{label:"布封单位",prop:"breadthUnit",cell:!0,width:100},{label:"克重",prop:"gramWeight",cell:!0,width:60,align:"right"},{label:"横缩",prop:"lateralShrink",cell:!0,width:60,align:"right"},{label:"直缩",prop:"verticalShrink",cell:!0,width:60,align:"right"},{label:"扭度",prop:"twistDegrees",cell:!0,align:"right",width:60},{label:"斜度",prop:"slopeDegrees",cell:!0,width:60,align:"right"},{label:"布料类型",prop:"fabType",cell:!0,width:100},{label:"加工类型",prop:"processType",cell:!0,width:100},{label:"胚布代号",prop:"calicoId",cell:!0,width:150},{label:"胚布批号",prop:"calicoBatch",cell:!0,width:100},{label:"物料需求_FK",prop:"salMatrequireFk",hide:!0,width:175},{label:"订单布料明细_FK",prop:"salPoDtlaFk",hide:!0,width:225}]},b={submitBtn:!1,emptyBtn:!1,column:[{label:"辅料名称",prop:"matName",span:6},{label:"英文名称",prop:"matEngname",span:6},{label:"规格",prop:"matItemspec",span:6},{label:"型号",prop:"matModel",span:6}]},u={menu:!1,addBtn:!1,border:!0,highlightCurrentRow:!0,showSummary:!0,sumColumnList:[{label:"共",name:"matUse",type:"sum"}],height:"calc(100vh - 235px)",column:[{label:"Sal_matrequire_dtldOID",prop:"salMatrequireDtldoid",hide:!0,width:550},{label:"序号",prop:"index",width:60,align:"right"},{label:"序号",prop:"matSeq",hide:!0,width:50},{label:"辅料编号",prop:"matId",cell:!0,width:200},{label:"辅料名称",prop:"matName",cell:!0,width:180},{label:"英文名称",prop:"matEngname",cell:!0,width:150},{label:"规格",prop:"matItemspec",cell:!0,width:100},{label:"型号",prop:"matModel",cell:!0,width:120},{label:"需求用量",prop:"matUse",cell:!0,width:100,align:"right"},{label:"用量单位",prop:"useUnit",cell:!0,width:100},{label:"物料需求_FK",prop:"salMatrequireFk",hide:!0,width:175}]},m={submitBtn:!1,emptyBtn:!1,labelWidth:120,column:[{label:"编码",prop:"bcCode",span:6},{label:"原料名称",prop:"bcMatname",span:6},{label:"批号",prop:"bcBatchnumber",span:6}]},g={menu:!1,addBtn:!1,border:!0,highlightCurrentRow:!0,showSummary:!0,sumColumnList:[{label:"共",name:"cmatUse",type:"sum"}],column:[{label:"Sal_matrequire_dtlbOID",prop:"salMatrequireDtlboid",hide:!0,width:550},{label:"序号",prop:"index",width:60,align:"right"},{label:"编码",prop:"bcCode",cell:!0,width:150},{label:"批号",prop:"bcBatchnumber",cell:!0,width:150},{label:"原料名称",prop:"bcMatname",cell:!0,width:150},{label:"需求用量",prop:"cmatUse",cell:!0,width:100,align:"right"},{label:"用量单位",prop:"useUnit",cell:!0,width:100},{label:"色光",prop:"bcColor",cell:!0,width:80},{label:"力份",prop:"bcForce",cell:!0,width:80},{label:"产地",prop:"bcMakeplace",cell:!0,width:100,type:"select",dicData:getDIC("Whse_Origin")},{label:"色牢度",prop:"bcColorprison",cell:!0,width:75},{label:"环保等级",prop:"bcEnvironmentlevel",cell:!0,width:100},{label:"毒性",prop:"bcToxicity",cell:!0,width:80},{label:"危险等级",prop:"bcDangerlevel",cell:!0,width:100},{label:"应急处理",prop:"bcEmergency",cell:!0,width:150},{label:"消防",prop:"bcFirecontrol",cell:!0,width:80},{label:"储存要求",prop:"bcStorage",cell:!0,width:100},{label:"备注",prop:"bcDesc",cell:!0,width:150},{label:"一级分类",prop:"bcClass",cell:!0,width:100},{label:"原料英文名称",prop:"bcMatengname",cell:!0,width:150},{label:"化工二级分类",prop:"basChemicalsecondFk",hide:!0,width:150},{label:"化工三级分类",prop:"basChemicalthreeFk",hide:!0,width:150},{label:"化工四级分类",prop:"basChemicalfourFk",hide:!0,width:150},{label:"物料需求_FK",prop:"salMatrequireFk",hide:!0,width:175}]},w=t("mtWM"),f=t.n(w);function y(l){return f()({url:"/api/salMatrequireDtlaList",method:"get",params:l})}function D(l){return f()({url:"/api/salMatrequireDtlcList",method:"get",params:l})}function v(l){return f()({url:"/api/salMatrequireDtlbList",method:"get",params:l})}function C(l){return f()({url:"/api/salMatrequireDtldList",method:"get",params:l})}var _={name:"",data:function(){return{tabs:"sx",dialogVisible:!1,loading:!1,page:{pageSize:10,total:0,currentPage:1},locInfo:[],chooseData:{},oldData:{},changeList:[],form:{},formOp:c,crudData:[{index:1}],func:null,data:{sx:[],pb:[],cpb:[],rhl:[],scfl:[]},crudOp:s,selectionData:[],tle:""}},watch:{tabs:{handler:function(l,e){switch(this.selectionData=[],l){case"sx":this.formOp=c,this.crudOp=s,this.func=y,this.tle="纱线";break;case"pb":this.formOp=h,this.crudOp=d,this.func=D,this.tle="胚布";break;case"rhl":this.formOp=m,this.crudOp=g,this.tle="染化料",this.func=v;break;default:this.formOp=b,this.crudOp=u,this.func=C,this.tle="生产辅料"}this.getData(this.tabs)},deep:!0,immediate:!0}},methods:i()({getData:function(l){var e=this;for(var t in this.loading=!0,this.selectionData.length>0&&(this.selectionData=[],this.$refs.crud1.selectClear()),this.form)""===this.form[t]&&delete this.form[t];this.func(p()(this.form)).then(function(t){t.data.rows.forEach(function(l,e){l.index=e+1}),e.data[l]=t.data.rows,e.crudData=e.data[l],e.loading=!1}).catch(function(l){e.loading=!1})},add:function(){var l=this;o()(this.oldData).length>0&&(this.oldData.$cellEdit=!1),this.data.push({index:this.data.length+1,$cellEdit:!0}),this.oldData=this.data[this.data.length-1],this.$nextTick(function(){var e=l;document.getElementsByClassName("el-table__row")[e.data.length-1].addEventListener("input",function(){e.iptChange(e.oldData)},!1)})},iptChange:function(l){if(0===this.changeList.length)this.changeList.push(l);else for(var e=0;e<this.changeList.length;e++){if(l.index===this.changeList[e].index)return void(this.changeList[e]=l);this.changeList.length-1===e&&this.changeList[e].index!=l.index&&this.changeList.push(l)}},update:function(){},del:function(){},sava:function(){this.oldData.$cellEdit=!1},cancel:function(){},query:function(){},preview:function(){this.dialogVisible=!0},selectionChange:function(l){this.selectionData=l},close:function(){document.getElementsByClassName("el-dialog__headerbtn")[1].click()}},"del",function(l,e){var t=this,a=l.classifyId;cofirm("此操作将永久删除该文件, 是否继续?","提示",{}).then(function(){t.$axios.delete("/api/iotEquipmentType?classifyId="+a).then(function(l){0==l.data.code?(success("删除成功"),t.handleList()):warning("删除失败")}).catch(function(l){error("服务器错误")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}),created:function(){},mounted:function(){},beforeDestroy:function(){}},x={render:function(){var l=this,e=l.$createElement,t=l._self._c||e;return t("div",{attrs:{id:"imDg"}},[t("view-container",{attrs:{title:"采购物料需求"}},[t("div",{staticClass:"btnList"},[t("el-button",{attrs:{type:"primary",disabled:l.loading},on:{click:l.getData}},[l._v("查询")])],1),l._v(" "),t("div",{staticClass:"formBox",staticStyle:{"margin-top":"10px"}},[t("avue-form",{ref:"form",attrs:{option:l.formOp},model:{value:l.form,callback:function(e){l.form=e},expression:"form"}})],1),l._v(" "),t("el-card",[t("el-tabs",{attrs:{type:"border-card"},model:{value:l.tabs,callback:function(e){l.tabs=e},expression:"tabs"}},[t("el-tab-pane",{attrs:{label:"纱线",name:"sx"}}),l._v(" "),t("el-tab-pane",{attrs:{label:"胚布",name:"pb"}}),l._v(" "),t("el-tab-pane",{attrs:{label:"染化料",name:"rhl"}}),l._v(" "),t("el-tab-pane",{attrs:{label:"生产辅料",name:"scfl"}})],1),l._v(" "),t("div",{staticClass:"crudBox"},[t("avue-crud",{directives:[{name:"loading",rawName:"v-loading",value:l.loading,expression:"loading"}],ref:"crud1",attrs:{data:l.crudData,option:l.crudOp},on:{"on-load":function(e){return l.getData(l.tabs)},"selection-change":l.selectionChange}})],1)],1)],1)],1)},staticRenderFns:[]};var O=t("VU/8")(_,x,!1,function(l){t("Sclt")},null,null);e.default=O.exports}});
//# sourceMappingURL=41.33b0461776c1c41fd999.js.map