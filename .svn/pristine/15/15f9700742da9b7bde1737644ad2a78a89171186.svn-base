{"version":3,"sources":["webpack:///./src/view/im/Wk/rc/cpb/data.js","webpack:///src/view/im/Wk/rc/cpb/tem.vue","webpack:///./src/view/im/Wk/rc/cpb/tem.vue?47cc","webpack:///./src/view/im/Wk/rc/cpb/tem.vue","webpack:///src/view/im/Wk/rc/cpb/index.vue","webpack:///./src/view/im/Wk/rc/cpb/index.vue?184e","webpack:///./src/view/im/Wk/rc/cpb/index.vue"],"names":["rsxkr2F","_this","submitBtn","emptyBtn","labelWidth","column","label","prop","span","placeholder","disabled","type","format","valueFormat","display","hide","dicData","getDicT","rsxkr2C","menu","addBtn","border","highlightCurrentRow","height","refreshBtn","columnBtn","page","roykey","showSummary","sumColumnList","name","width","align","cell","click","choiceV","choiceField","oldData","chooseData","choiceTarget","choiceTle","iptChange","val","getDIC","tem","props","datas","Object","everyThing","String","components","choice","data","loading","pageSize","currentPage","total","detail","formOp","this","mxOp","mx","other","form","changeList","canLeave","choiceQ","watch","methods","getDetail","keys_default","length","whseFinishedclothinoid","rc","rows","start","whseFinishedclothinFk","then","res","records","$nextTick","$refs","dlgcrud","setCurrentRow","forEach","item","index","add","whseFinishedclothinDtloid","$cellEdit","push","$tip","error","i","del","_this2","splice","cofirm","code","success","catch","err","warning","cellClick","$set","save","batchNo","countingNo","close","document","getElementsByClassName","choiceData","key","weight","weightUnit","prodNo","fabticket","created","mounted","beforeDestroy","cpb_tem","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","on","_v","directives","rawName","value","expression","ref","staticStyle","margin-top","option","update:page","$event","current-row-change","on-load","dlgWidth","_e","staticRenderFns","rc_cpb_tem","__webpack_require__","normalizeComponent","ssrContext","cpb","temDlg","ruleDlg","rule","dialogVisible","JSON","parse","localStorage","getItem","split","crudOp","crud","ruleV","getData","mainF","mainC","focus","change","rsxkr1C","dlgF1","dlgC1","dlgC2","dlgPp","assign_default","yinType","finStatus","e","_this3","yinId","api","addEventListener","_this4","_this5","custCode","rc_cpb","title","model","callback","$$v","visible","append-to-body","close-on-click-modal","update:visible","rcType","cpb_Component","cpb_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.3cf55f013862af3db9d4.js","sourcesContent":["import { getDIC, getDicT } from '@/config/index'\r\nexport function rsxkr1F(_this) {\r\n  return {\r\n    submitBtn: false,\r\n    emptyBtn: false,\r\n    labelWidth: 130,\r\n    column: [\r\n      {\r\n        label: \"入仓编号\",\r\n        prop: \"yinId\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n      },\r\n      {\r\n        label: \"入仓日期\",\r\n        prop: \"yinDate\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"datetime\",\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n      },\r\n      {\r\n        label: \"检验状态\",\r\n        prop: \"yinStatus\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"select\",\r\n        dicData:\r\n          getDIC('whse_yinstatus')\r\n      },\r\n      {\r\n        label: \"客户名称\",\r\n        prop: \"custName\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"select\",\r\n        display: _this.hide === \"2\" ? true : false,\r\n        dicData:\r\n          getDicT('basCustomer', 'custName', 'custName')\r\n      },\r\n\r\n\r\n      {\r\n        label: \"财务状态\",\r\n        prop: \"finStatus\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"select\",\r\n        display: _this.hide === \"1\" ? true : false,\r\n        dicData:\r\n          getDIC('whse_finStatus')\r\n      },\r\n    ],\r\n  }\r\n}\r\nexport function rsxkr2F(_this) {\r\n  return {\r\n    submitBtn: false,\r\n    emptyBtn: false,\r\n    labelWidth: 130,\r\n    column: [\r\n      {\r\n        label: \"入仓编号\",\r\n        prop: \"yinId\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        disabled: true,\r\n      },\r\n      {\r\n        label: \"入仓日期\",\r\n        prop: \"yinDate\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"datetime\",\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        disabled: true\r\n      },\r\n      {\r\n        label: \"客户名称\",\r\n        prop: \"custName\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        disabled: true,\r\n        type: \"select\",\r\n        display: _this.hide === \"2\" ? true : false,\r\n        dicData:\r\n          getDicT('basCustomer', 'custName', 'custName')\r\n      },\r\n      {\r\n        label: \"客人通知单\",\r\n        prop: \"custNotice\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        disabled: true\r\n      },\r\n\r\n    ],\r\n  }\r\n\r\n\r\n}\r\nexport function rsxkr1C(_this) {\r\n  return {\r\n    menu: false,\r\n    addBtn: false,\r\n    border: true,\r\n    highlightCurrentRow: true,\r\n    height: \"calc(100vh -290px)\",\r\n    refreshBtn: false,\r\n    columnBtn: false,\r\n    page: true,\r\n    column: [\r\n      {\r\n        label: \"成品布入仓主键OID\",\r\n        prop: \"whseFinishedclothinoid\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"序号\",\r\n        prop: \"index\",\r\n        width: 60,\r\n        align: \"center\"\r\n      },\r\n      {\r\n        label: \"创建日期\",\r\n        prop: \"sysCreated\",\r\n        hide: true,\r\n        type: \"datetime\",\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        focus: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        align: \"center\",\r\n      },\r\n\r\n      {\r\n        label: \"记录删除标记\",\r\n        prop: \"sysDeleted\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"入仓编号\",\r\n        prop: \"yinId\",\r\n        cell: true,\r\n        width: 160,\r\n        change: (val) => {\r\n\r\n          _this.iptChange(_this.chooseData);\r\n\r\n        },\r\n      },\r\n      {\r\n        label: \"入仓类型\",\r\n        prop: \"yinType\",\r\n        cell: false,\r\n        width: 140,\r\n        type: \"select\",\r\n        dicData: getDIC('Whse_FinishedclothType'),\r\n        change: (val) => {\r\n\r\n          _this.iptChange(_this.chooseData);\r\n\r\n        },\r\n      },\r\n      {\r\n        label: \"入仓日期\",\r\n        prop: \"yinDate\",\r\n        cell: true,\r\n        type: \"datetime\",\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        focus: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        width: 190,\r\n        align: \"center\",\r\n      },\r\n\r\n      {\r\n        label: \"客户\",\r\n        prop: \"custName\",\r\n        cell: true,\r\n        hide: _this.hide === \"2\" ? false : true,\r\n        width: 150,\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        click: () => {\r\n          _this.choiceV = !_this.choiceV;\r\n          _this.choiceField = \"custName\";\r\n          // _this.choiceQ.purType = '5'\r\n          _this.oldData = _this.chooseData\r\n          _this.choiceTarget = _this.oldData;\r\n          _this.choiceTle = \"客戶編號\";\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"客户代码\",\r\n        prop: \"custCode\",\r\n        cell: false,\r\n        width: 150,\r\n        hide: true,\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        click: () => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n\r\n      {\r\n        label: \"客人通知单\",\r\n        prop: \"custNotice\",\r\n        cell: true,\r\n        hide: _this.hide === \"2\" ? false : true,\r\n        width: 150,\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        click: () => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n\r\n      {\r\n        label: \"检验状态\",\r\n        prop: \"yinStatus\",\r\n        cell: true,\r\n        width: 110,\r\n        hide: _this.hide != '2' ? false : true,\r\n        type: \"select\",\r\n        dicData: getDIC('whse_yinstatus'),\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        click: () => {\r\n          _this.iptChange(_this.chooseData);\r\n        }\r\n      },\r\n      {\r\n        label: \"财务状态\",\r\n        prop: \"finStatus\",\r\n        cell: true,\r\n        width: 120,\r\n        type: \"select\",\r\n        hide: _this.hide === '1' ? false : true,\r\n        dicData:\r\n          getDIC('whse_finStatus'),\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        click: () => {\r\n          _this.iptChange(_this.chooseData);\r\n        }\r\n      },\r\n      {\r\n        label: \"备注\",\r\n        prop: \"remarks\",\r\n        cell: true,\r\n        hide: _this.hide === '2' ? false : true,\r\n        width: 250,\r\n        change: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"创建用户\",\r\n        prop: \"sysCreatedby\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"授权用户\",\r\n        prop: \"sysReplacement\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"所属岗位\",\r\n        prop: \"sysPostn\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"所属部门\",\r\n        prop: \"sysDivision\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"所属组织\",\r\n        prop: \"sysOrg\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"最后修改用户\",\r\n        prop: \"sysLastUpdBy\",\r\n        hide: true,\r\n        width: 150,\r\n      },\r\n      {\r\n        label: \"最后修改日期\",\r\n        prop: \"sysLastUpd\",\r\n        hide: true,\r\n        type: \"datetime\",\r\n        width: 180,\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        focus: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        align: \"center\",\r\n      },\r\n    ],\r\n  }\r\n\r\n}\r\nexport function rsxkr2C(_this) {\r\n  return {\r\n    menu: false,\r\n    addBtn: false,\r\n    border: true,\r\n    highlightCurrentRow: true,\r\n    height: \"calc(100vh - 290px)\",\r\n    refreshBtn: false,\r\n    columnBtn: false,\r\n    page: true,\r\n    roykey: \"whseFinishedclothinDtloid\",\r\n    showSummary: true,\r\n    sumColumnList: [\r\n      {\r\n        label: \" \",\r\n        name: 'weight',\r\n        type: 'sum',\r\n      },\r\n      {\r\n        label: \" \",\r\n        name: 'countingNo',\r\n        type: 'sum',\r\n      }\r\n    ],\r\n    column: [\r\n      {\r\n        prop: \"index\",\r\n        label: \"序号\",\r\n        width: 60,\r\n        align: \"center\",\r\n\r\n      },\r\n      {\r\n        label: \"Whse_FinishedclothIn_dtlOID\",\r\n        prop: \"whseFinishedclothinDtloid\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"缸号\",\r\n        prop: \"batchNo\",\r\n        cell: true,\r\n        width: 230,\r\n        click: () => {\r\n          if (_this.hide != 2) {\r\n            _this.choiceV = !_this.choiceV;\r\n            _this.choiceField = \"batchNo\";\r\n            // _this.choiceQ.purType = '5'\r\n            _this.oldData = _this.chooseData\r\n            _this.choiceTarget = _this.oldData;\r\n            _this.choiceTle = \"成品布貨物包\";\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n\r\n        },\r\n      },\r\n      {\r\n        label: \"疋数\",\r\n        prop: \"countingNo\",\r\n        cell: _this.hide === '1' || _this.hide === '3' ? false : true,\r\n        width: 120,\r\n        align: \"right\",\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"重量\",\r\n        prop: \"weight\",\r\n        cell: _this.hide === '1' || _this.hide === '3' ? false : true,\r\n        width: 120,\r\n        align: \"right\",\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"重量单位\",\r\n        prop: \"weightUnit\",\r\n        cell: _this.hide === '1' || _this.hide === '3' ? false : true,\r\n        width: 100,\r\n        type: \"select\",\r\n        dicData: getDIC(\"Whse_Transfer_unit\"),\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"布票号\",\r\n        prop: \"fabticket\",\r\n        cell: _this.hide === '1' || _this.hide === '3' ? false : true,\r\n        width: 230,\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"成品布入仓\",\r\n        prop: \"whseFinishedclothinFk\",\r\n        hide: true,\r\n        width: 100,\r\n\r\n      },\r\n    ],\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/im/Wk/rc/cpb/data.js","<template>\r\n  <div id=\"rcDetail\">\r\n    <!-- <div class=\"formBox\">\r\n      <avue-form ref=\"form\" :option=\"formOp\" v-model=\"form\"></avue-form>\r\n    </div> -->\r\n    <el-row class=\"\">\r\n      <div class=\"btnList\">\r\n        <!-- <el-button type=\"primary\" @click=\"getDetail\">查询</el-button> -->\r\n        <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n        <el-button type=\"danger\" @click=\"del\">删除</el-button>\r\n        <el-button\r\n          type=\"success\"\r\n          :disabled=\"changeList.length === 0\"\r\n          @click=\"save\"\r\n          >保存</el-button\r\n        >\r\n        <!-- <el-button type=\"warning\" @click=\"getDetail\">取消</el-button>\r\n      <el-button type=\"warning\" @click=\"close\">关闭</el-button> -->\r\n      </div>\r\n      <avue-crud\r\n        style=\"margin-top: -5px\"\r\n        ref=\"dlgcrud\"\r\n        :option=\"mxOp\"\r\n        v-loading=\"loading\"\r\n        :data=\"mx\"\r\n        :page.sync=\"page\"\r\n        @current-row-change=\"cellClick\"\r\n        @on-load=\"getDetail\"\r\n      ></avue-crud>\r\n    </el-row>\r\n\r\n    <choice\r\n      :choiceV=\"choiceV\"\r\n      :choiceTle=\"choiceTle\"\r\n      :choiceQ=\"choiceQ\"\r\n      dlgWidth=\"60%\"\r\n      @choiceData=\"choiceData\"\r\n      @close=\"choiceV = false\"\r\n      v-if=\"choiceV\"\r\n    ></choice>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { rsxkr2C, rsxkr2F } from \"./data\";\r\nimport choice from \"@/components/choice\";\r\nimport {\r\n  getCpbDetali,\r\n  addCpbDetali,\r\n  updateCpbDetali,\r\n  delCpbDetali,\r\n} from \"@/api/im/Wk/rc\";\r\nexport default {\r\n  props: {\r\n    datas: Object,\r\n    everyThing: Object,\r\n    hide: String,\r\n  },\r\n  name: \"\",\r\n  components: {\r\n    choice: choice,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      page: {\r\n        pageSize: 10,\r\n        currentPage: 1,\r\n        total: 0,\r\n      },\r\n      detail: {},\r\n      formOp: rsxkr2F(this),\r\n      mxOp: rsxkr2C(this),\r\n      mx: [{}],\r\n      other: [],\r\n      form: {},\r\n      oldData: {},\r\n      chooseData: {},\r\n      changeList: [],\r\n      canLeave: false,\r\n      choiceV: false,\r\n      choiceTle: \"\",\r\n      choiceTarget: {},\r\n      choiceField: \"\",\r\n      choiceQ: {},\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    getDetail() {\r\n      this.loading = true;\r\n      if (\r\n        Object.keys(this.detail).length === 0 ||\r\n        !this.detail.whseFinishedclothinoid\r\n      ) {\r\n        this.mx = [];\r\n        this.mxOp.showSummary = false;\r\n        this.loading = false;\r\n        return;\r\n      }\r\n\r\n      this.oldData = {};\r\n\r\n      this.chooseData = {};\r\n      // this.mx = [];\r\n      getCpbDetali({\r\n        rows: this.page.pageSize,\r\n        start: this.page.currentPage,\r\n        whseFinishedclothinFk: this.detail.whseFinishedclothinoid,\r\n      }).then((res) => {\r\n        let records = res.data;\r\n        this.page.total = records.total;\r\n        this.changeList = [];\r\n        this.$nextTick(() => {\r\n          this.$refs.dlgcrud.setCurrentRow({});\r\n          this.mxOp.showSummary = true;\r\n        });\r\n\r\n        this.mx = records.records;\r\n        if (this.mx.length === 0) {\r\n          this.loading = false;\r\n        }\r\n        this.mx.forEach((item, index) => {\r\n          item.index = index + 1;\r\n          if (index === this.mx.length - 1) {\r\n            this.loading = false;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    add() {\r\n      if (Object.keys(this.detail).length === 0) {\r\n        this.$tip.error(\"请先选择入库资料\");\r\n        return;\r\n      } else if (!this.detail.whseFinishedclothinoid) {\r\n        this.$tip.error(\"请先保存入库资料\");\r\n        return;\r\n      }\r\n      if (\r\n        this.mx.length > 0 &&\r\n        !this.mx[this.mx.length - 1].whseFinishedclothinDtloid\r\n      ) {\r\n        return;\r\n      }\r\n      if (Object.keys(this.oldData).length > 0) {\r\n        this.oldData.$cellEdit = false;\r\n      }\r\n      this.mx.push({\r\n        index: this.mx.length + 1,\r\n        $cellEdit: true,\r\n        whseFinishedclothinFk: this.detail.whseFinishedclothinoid,\r\n      });\r\n      this.$refs.dlgcrud.setCurrentRow(this.mx[this.mx.length - 1]);\r\n      this.iptChange(this.mx[this.mx.length - 1]);\r\n      this.oldData = this.mx[this.mx.length - 1];\r\n    },\r\n    iptChange(val) {\r\n      if (this.changeList.length === 0) {\r\n        this.changeList.push(val);\r\n      } else {\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (val.index === this.changeList[i].index) {\r\n            this.changeList[i] = val;\r\n            return;\r\n          }\r\n          if (\r\n            this.changeList.length - 1 === i &&\r\n            this.changeList[i].index != val.index\r\n          ) {\r\n            this.changeList.push(val);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    del() {\r\n      if (Object.keys(this.chooseData).length === 0) {\r\n        this.$tip.error(\"请选择要删除的数据!\");\r\n        return;\r\n      }\r\n      if (!this.chooseData.whseFinishedclothinDtloid) {\r\n        this.mx.splice(this.chooseData.index - 1, 1);\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (this.changeList[i].index === this.chooseData.index) {\r\n            this.changeList.splice(i, 1);\r\n            this.$refs.dlgcrud.setCurrentRow(this.mx[this.mx.length - 1]);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      this.$tip\r\n        .cofirm(\"是否确定删除\", this, {})\r\n        .then(() => {\r\n          delCpbDetali(this.chooseData.whseFinishedclothinDtloid)\r\n            .then((res) => {\r\n              if (res.data.code === 200) {\r\n                this.$tip.success(\"删除成功\");\r\n                this.mx.splice(this.chooseData.index - 1, 1);\r\n                this.getDetail();\r\n              } else {\r\n                this.$tip.error(\"删除失败\");\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              this.$tip.error(\"删除失败!\");\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          this.$tip.warning(\"取消操作\");\r\n        });\r\n    },\r\n    cellClick(val) {\r\n      this.oldData.$cellEdit = false;\r\n      this.$set(val, \"$cellEdit\", true);\r\n      this.oldData = val;\r\n      this.chooseData = val;\r\n    },\r\n    save() {\r\n      for (let i = 0; i < this.changeList.length; i++) {\r\n        if (!this.changeList[i].batchNo || !this.changeList[i].countingNo) {\r\n          this.$tip.error(\"缸号/疋数不能为空!\");\r\n          this.canLeave = true;\r\n          return;\r\n        }\r\n      }\r\n      this.changeList.forEach((item, index) => {\r\n        if (item.whseFinishedclothinDtloid) {\r\n          updateCpbDetali(item).then((res) => {});\r\n        } else {\r\n          addCpbDetali(item).then((res) => {});\r\n        }\r\n      });\r\n      this.changeList = [];\r\n      this.getDetail();\r\n      this.$tip.success(\"保存成功!\");\r\n    },\r\n    close() {\r\n      document.getElementsByClassName(\"el-dialog__headerbtn\")[3].click();\r\n    },\r\n    choiceData(val) {\r\n      if (Object.keys(val).length === 0) {\r\n        this.choiceV = false;\r\n        return;\r\n      }\r\n      this.oldData.$cellEdit = false;\r\n      this.choiceTarget[this.choiceField] = val[this.choiceField];\r\n      this.oldData.$cellEdit = true;\r\n      if (this.choiceTle === \"成品布貨物包\") {\r\n        this.choiceTarget.weight = val.weight;\r\n        this.choiceTarget.weightUnit = val.weightUnit;\r\n        this.choiceTarget.prodNo = val.prodNo;\r\n        this.choiceTarget.fabticket = val.fabticket;\r\n        this.choiceTarget.countingNo = val.countingNo;\r\n      }\r\n      for (var key in val) {\r\n        delete val[key];\r\n      }\r\n      for (var key in this.choiceQ) {\r\n        delete this.choiceQ[key];\r\n      }\r\n      this.choiceV = false;\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.form = this.detail;\r\n    // this.getDetail();\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n#rcDetail {\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/im/Wk/rc/cpb/tem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"rcDetail\"}},[_c('el-row',{},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.del}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.changeList.length === 0},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dlgcrud\",staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"option\":_vm.mxOp,\"data\":_vm.mx,\"page\":_vm.page},on:{\"update:page\":function($event){_vm.page=$event},\"current-row-change\":_vm.cellClick,\"on-load\":_vm.getDetail}})],1),_vm._v(\" \"),(_vm.choiceV)?_c('choice',{attrs:{\"choiceV\":_vm.choiceV,\"choiceTle\":_vm.choiceTle,\"choiceQ\":_vm.choiceQ,\"dlgWidth\":\"60%\"},on:{\"choiceData\":_vm.choiceData,\"close\":function($event){_vm.choiceV = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9363cb7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/im/Wk/rc/cpb/tem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9363cb7c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tem.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9363cb7c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/im/Wk/rc/cpb/tem.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"rc\">\r\n    <view-container :title=\"data.type.split('_')[0]\">\r\n      <div class=\"btnList\">\r\n        <!-- <el-button type=\"warning\" @click=\"getData\">取消</el-button> -->\r\n        <el-button type=\"warning\" @click=\"ruleV = true\">編號規則配置</el-button>\r\n        <el-button type=\"primary\" @click=\"getData\">查询</el-button>\r\n        <el-button type=\"warning\" @click=\"close\">关闭</el-button>\r\n      </div>\r\n      <div class=\"formBox\">\r\n        <avue-form\r\n          ref=\"form\"\r\n          :option=\"everyThing.mainF\"\r\n          v-model=\"form\"\r\n        ></avue-form>\r\n      </div>\r\n      <el-row class=\"crudBox\">\r\n        <el-col :span=\"13\">\r\n          <view-container :title=\"data.type.split('_')[0] + '入库'\">\r\n            <div class=\"btnList\">\r\n              <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n              <el-button type=\"danger\" @click=\"del\">删除</el-button>\r\n              <el-button\r\n                type=\"success\"\r\n                :disabled=\"changeList.length === 0\"\r\n                @click=\"save\"\r\n                >保存</el-button\r\n              >\r\n            </div>\r\n            <avue-crud\r\n              style=\"margin-top: -5px\"\r\n              ref=\"crud\"\r\n              id=\"crud\"\r\n              :option=\"everyThing.mainC\"\r\n              :data=\"crud\"\r\n              :page.sync=\"page\"\r\n              v-loading=\"loading\"\r\n              @on-load=\"getData\"\r\n              @current-row-change=\"cellClick\"\r\n            ></avue-crud> </view-container\r\n        ></el-col>\r\n        <el-col :span=\"11\">\r\n          <view-container :title=\"data.type.split('_')[0] + '入库明细'\">\r\n            <tem-dlg\r\n              ref=\"tem\"\r\n              :datas=\"data\"\r\n              :everyThing=\"everyThing\"\r\n              :hide=\"hide\"\r\n            ></tem-dlg></view-container\r\n        ></el-col>\r\n      </el-row>\r\n      <el-dialog\r\n        id=\"wkRuleDlg\"\r\n        :visible.sync=\"ruleV\"\r\n        width=\"50%\"\r\n        append-to-body\r\n        :close-on-click-modal=\"false\"\r\n        v-if=\"ruleV\"\r\n      >\r\n        <rule-dlg\r\n          ref=\"rule\"\r\n          :rcType=\"'whse_In_finished'\"\r\n          @close=\"ruleV = false\"\r\n        ></rule-dlg>\r\n      </el-dialog>\r\n      <choice\r\n        :choiceV=\"choiceV\"\r\n        :choiceTle=\"choiceTle\"\r\n        :choiceQ=\"choiceQ\"\r\n        dlgWidth=\"60%\"\r\n        @choiceData=\"choiceData\"\r\n        @close=\"choiceV = false\"\r\n        v-if=\"choiceV\"\r\n      ></choice>\r\n    </view-container>\r\n  </div>\r\n</template>\r\n<script>\r\nimport tem from \"./tem\";\r\nimport rule from \"@/components/rule\";\r\nimport { baseCodeSupply } from \"@/api/index\";\r\nimport {\r\n  getCpb,\r\n  getCpbDetali,\r\n  addCpb,\r\n  updateCpb,\r\n  delCpb,\r\n} from \"@/api/im/Wk/rc\";\r\nimport { rsxkr1F, rsxkr1C, rsxkr2C, rsxkr2F } from \"./data\";\r\nimport choice from \"@/components/choice\";\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    temDlg: tem,\r\n    ruleDlg: rule,\r\n    choice: choice,\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      loading: false,\r\n      data: JSON.parse(localStorage.getItem(\"imWk\")),\r\n      page: {\r\n        pageSize: 10,\r\n        currentPage: 1,\r\n        total: 0,\r\n      },\r\n      hide: JSON.parse(localStorage.getItem(\"imWk\")).type.split(\"_\")[1],\r\n      formOp: {},\r\n      form: {},\r\n      crudOp: {},\r\n      crud: [],\r\n      detail: {},\r\n      everyThing: {},\r\n      oldData: {},\r\n      chooseData: {},\r\n      changeList: [],\r\n      ruleV: false,\r\n      choiceV: false,\r\n      choiceTle: \"\",\r\n      choiceTarget: {},\r\n      choiceField: \"\",\r\n      choiceQ: {},\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    getData() {\r\n      this.loading = true;\r\n\r\n      // this.crud = [];\r\n      this.everyThing = {\r\n        mainF: rsxkr1F(this),\r\n        mainC: rsxkr1C(this),\r\n        dlgF1: rsxkr2F,\r\n        dlgC1: rsxkr2C,\r\n        dlgC2: {},\r\n        dlgPp: \"24:0\",\r\n      };\r\n\r\n      for (var key in this.form) {\r\n        if (this.form[key] === \"\") {\r\n          delete this.form[key];\r\n        }\r\n      }\r\n      getCpb(\r\n        Object.assign(this.form, {\r\n          rows: this.page.pageSize,\r\n          start: this.page.currentPage,\r\n          yinType: JSON.parse(localStorage.getItem(\"imWk\")).type.split(\"_\")[1],\r\n        })\r\n      )\r\n        .then((res) => {\r\n          let records = res.data;\r\n          this.page.total = records.total;\r\n          this.changeList = [];\r\n          this.crud = records.records;\r\n          if (this.crud.length === 0) {\r\n            this.loading = false;\r\n          }\r\n          // if (Object.keys(this.chooseData).length > 0) {\r\n          //   this.$refs.crud.setCurrentRow(this.crud[this.chooseData.index - 1]);\r\n          // } else {\r\n          //   this.$refs.crud.setCurrentRow(this.crud[0]);\r\n          // }\r\n          this.crud.forEach((item, index) => {\r\n            item.finStatus = String(item.finStatus);\r\n            item.index = index + 1;\r\n            if (index === this.crud.length - 1) {\r\n              this.$refs.crud.setCurrentRow(0);\r\n\r\n              this.loading = false;\r\n            }\r\n          });\r\n          this.$refs.tem.mx = [];\r\n        })\r\n        .catch((e) => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    add() {\r\n      if (\r\n        this.crud.length > 0 &&\r\n        !this.crud[this.crud.length - 1].whseFinishedclothinoid\r\n      ) {\r\n        return;\r\n      }\r\n      if (Object.keys(this.oldData).length > 0) {\r\n        this.oldData.$cellEdit = false;\r\n      }\r\n      let data = {\r\n        index: this.crud.length + 1,\r\n        $cellEdit: true,\r\n        yinType: this.hide,\r\n        yinId: \"\",\r\n      };\r\n      baseCodeSupply({ code: \"whse_In_finished\" }).then((res) => {\r\n        data.yinId = res.data.data;\r\n      });\r\n      this.crud.push(data);\r\n      this.$refs.crud.setCurrentRow(this.crud[this.crud.length - 1]);\r\n      this.iptChange(this.crud[this.crud.length - 1]);\r\n      this.oldData = this.crud[this.crud.length - 1];\r\n      this.$nextTick(() => {\r\n        // 绑定 输入 事件\r\n        let _this = this;\r\n        document\r\n          .getElementsByClassName(\"el-table__row\")\r\n          [_this.crud.length - 1].addEventListener(\r\n            \"input\",\r\n            function () {\r\n              _this.iptChange(_this.oldData);\r\n            },\r\n            false\r\n          );\r\n      });\r\n    },\r\n    iptChange(val) {\r\n      if (this.changeList.length === 0) {\r\n        this.changeList.push(val);\r\n      } else {\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (val.index === this.changeList[i].index) {\r\n            this.changeList[i] = val;\r\n            return;\r\n          }\r\n          if (\r\n            this.changeList.length - 1 === i &&\r\n            this.changeList[i].index != val.index\r\n          ) {\r\n            this.changeList.push(val);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    del() {\r\n      if (Object.keys(this.chooseData).length === 0) {\r\n        this.$tip.error(\"请选择要删除的数据!\");\r\n        return;\r\n      }\r\n      if (!this.chooseData.whseFinishedclothinoid) {\r\n        this.crud.splice(this.chooseData.index - 1, 1);\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (this.changeList[i].index === this.chooseData.index) {\r\n            this.changeList.splice(i, 1);\r\n            this.$refs.crud.setCurrentRow(this.crud[this.crud.length - 1]);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      this.$tip\r\n        .cofirm(\"是否确定删除\", this, {})\r\n        .then(() => {\r\n          delCpb(this.chooseData.whseFinishedclothinoid)\r\n            .then((res) => {\r\n              if (res.data.code === 200) {\r\n                this.$tip.success(\"删除成功\");\r\n                this.crud.splice(this.chooseData.index - 1, 1);\r\n                this.getData();\r\n              } else {\r\n                this.$tip.error(\"删除失败\");\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              this.$tip.error(\"删除失败!\");\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          this.$tip.warning(\"取消操作\");\r\n        });\r\n    },\r\n    cellClick(val) {\r\n      if (this.$refs.tem.canLeave) {\r\n        this.oldData.$cellEdit = false;\r\n        this.$set(val, \"$cellEdit\", true);\r\n        this.oldData = val;\r\n        this.chooseData = val;\r\n        this.$refs.tem.canLeave = false;\r\n        return;\r\n      }\r\n      if (this.$refs.tem.changeList.length > 0) {\r\n        this.$tip\r\n          .cofirm(\"是否保存当前修改的批号资料?\", this, {})\r\n          .then(() => {\r\n            this.$refs.tem.save();\r\n            this.$nextTick(() => {\r\n              this.$refs.crud.setCurrentRow(this.oldData);\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            this.oldData.$cellEdit = false;\r\n            this.$set(val, \"$cellEdit\", true);\r\n            this.oldData = val;\r\n            this.chooseData = val;\r\n            this.$refs.tem.detail = val;\r\n            this.$refs.tem.getDetail();\r\n          });\r\n      } else {\r\n        this.oldData.$cellEdit = false;\r\n        this.$set(val, \"$cellEdit\", true);\r\n        this.oldData = val;\r\n        this.chooseData = val;\r\n        this.$refs.tem.detail = val;\r\n        this.$refs.tem.getDetail();\r\n      }\r\n    },\r\n    save() {\r\n      for (let i = 0; i < this.changeList.length; i++) {\r\n        if (!this.changeList[i].yinId || !this.changeList[i].yinType) {\r\n          this.$tip.error(\"入仓编号/类型不能为空!\");\r\n          return;\r\n        }\r\n      }\r\n      this.changeList.forEach((item, index) => {\r\n        if (item.finStatus === \"null\") {\r\n          item.finStatus = \"\";\r\n        }\r\n        if (item.whseFinishedclothinoid) {\r\n          updateCpb(item).then((res) => {});\r\n        } else {\r\n          addCpb(item).then((res) => {});\r\n        }\r\n      });\r\n      this.getData();\r\n      this.$tip.success(\"保存成功!\");\r\n    },\r\n    close() {\r\n      document.getElementsByClassName(\"el-dialog__headerbtn\")[0].click();\r\n    },\r\n    choiceData(val) {\r\n      if (Object.keys(val).length === 0) {\r\n        this.choiceV = false;\r\n        return;\r\n      }\r\n      this.oldData.$cellEdit = false;\r\n      this.choiceTarget.custCode = val.custCode;\r\n      this.choiceTarget[this.choiceField] = val[this.choiceField];\r\n      this.oldData.$cellEdit = true;\r\n      for (var key in val) {\r\n        delete val[key];\r\n      }\r\n      for (var key in this.choiceQ) {\r\n        delete this.choiceQ[key];\r\n      }\r\n      this.choiceV = false;\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    // this.getData();\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n#rc, #rcDetail {\r\n  .formBox {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .el-button--mini, .el-button--small {\r\n    font-size: 16px;\r\n  }\r\n\r\n  .el-button--mini, .el-button--mini.is-round {\r\n    padding: 5px 10px;\r\n  }\r\n\r\n  .avue-crud__menu {\r\n    min-height: 5px !important;\r\n    height: 5px !important;\r\n  }\r\n\r\n  .el-tabs__item {\r\n    font-size: 18px;\r\n    line-height: 30px;\r\n    height: 30px;\r\n  }\r\n\r\n  .el-table__header-wrapper, .el-form-item__label, .el-input--mini {\r\n    font-size: 16px !important;\r\n    font-weight: 600 !important;\r\n    color: #000;\r\n  }\r\n\r\n  // .avue-form__group {\r\n  // background-color: #fff;\r\n  // }\r\n\r\n  // .el-table--mini td, .el-table--mini th {\r\n  // padding: 2px 0 !important;\r\n  // }\r\n  .el-form-item--mini.el-form-item, .el-form-item--small.el-form-item {\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/im/Wk/rc/cpb/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"rc\"}},[_c('view-container',{attrs:{\"title\":_vm.data.type.split('_')[0]}},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.ruleV = true}}},[_vm._v(\"編號規則配置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"formBox\"},[_c('avue-form',{ref:\"form\",attrs:{\"option\":_vm.everyThing.mainF},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}})],1),_vm._v(\" \"),_c('el-row',{staticClass:\"crudBox\"},[_c('el-col',{attrs:{\"span\":13}},[_c('view-container',{attrs:{\"title\":_vm.data.type.split('_')[0] + '入库'}},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.del}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.changeList.length === 0},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"crud\",staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"id\":\"crud\",\"option\":_vm.everyThing.mainC,\"data\":_vm.crud,\"page\":_vm.page},on:{\"update:page\":function($event){_vm.page=$event},\"on-load\":_vm.getData,\"current-row-change\":_vm.cellClick}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('view-container',{attrs:{\"title\":_vm.data.type.split('_')[0] + '入库明细'}},[_c('tem-dlg',{ref:\"tem\",attrs:{\"datas\":_vm.data,\"everyThing\":_vm.everyThing,\"hide\":_vm.hide}})],1)],1)],1),_vm._v(\" \"),(_vm.ruleV)?_c('el-dialog',{attrs:{\"id\":\"wkRuleDlg\",\"visible\":_vm.ruleV,\"width\":\"50%\",\"append-to-body\":\"\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.ruleV=$event}}},[_c('rule-dlg',{ref:\"rule\",attrs:{\"rcType\":'whse_In_finished'},on:{\"close\":function($event){_vm.ruleV = false}}})],1):_vm._e(),_vm._v(\" \"),(_vm.choiceV)?_c('choice',{attrs:{\"choiceV\":_vm.choiceV,\"choiceTle\":_vm.choiceTle,\"choiceQ\":_vm.choiceQ,\"dlgWidth\":\"60%\"},on:{\"choiceData\":_vm.choiceData,\"close\":function($event){_vm.choiceV = false}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55e27939\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/im/Wk/rc/cpb/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55e27939\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55e27939\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/im/Wk/rc/cpb/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}