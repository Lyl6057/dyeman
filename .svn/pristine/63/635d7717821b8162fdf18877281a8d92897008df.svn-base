{"version":3,"sources":["webpack:///./src/view/im/Wk/rc/scfl/data.js","webpack:///src/view/im/Wk/rc/scfl/tem.vue","webpack:///./src/view/im/Wk/rc/scfl/tem.vue?a946","webpack:///./src/view/im/Wk/rc/scfl/tem.vue","webpack:///src/view/im/Wk/rc/scfl/index.vue","webpack:///./src/view/im/Wk/rc/scfl/index.vue?1d76","webpack:///./src/view/im/Wk/rc/scfl/index.vue"],"names":["rsxkr2F","_this","submitBtn","emptyBtn","labelWidth","column","label","prop","span","placeholder","disabled","type","format","valueFormat","display","hide","rsxkr2C","menu","addBtn","border","highlightCurrentRow","height","refreshBtn","columnBtn","page","roykey","showSummary","sumColumnList","name","width","align","cell","click","val","datas","split","choiceTle","choiceV","choiceField","oldData","chooseData","choiceTarget","iptChange","dicData","getDIC","tem","props","Object","everyThing","String","components","choice","data","loading","pageSize","currentPage","total","detail","formOp","this","mxOp","mx","other","form","changeList","canLeave","choiceQ","watch","methods","getDetail","keys_default","length","whseAccessoriesinoid","rc","rows","start","whseAccessoriesinFk","then","res","records","$refs","dlgcrud","setCurrentRow","forEach","item","index","model","materialNum","itemspec","add","whseAccessoriesDtloid","$cellEdit","push","custId","custName","$tip","error","i","del","_this2","splice","cofirm","code","success","catch","err","warning","cellClick","$set","save","batchNo","choiceData","key","materialType","$basProductionaccFk","$basAdsuppliesFk","$basHardwareFk","hardwareId","unitQty","msUnit","close","document","getElementsByClassName","created","mounted","beforeDestroy","scfl_tem","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","on","_v","directives","rawName","value","expression","ref","staticStyle","margin-top","option","update:page","$event","current-row-change","on-load","dlgWidth","_e","staticRenderFns","rc_scfl_tem","__webpack_require__","normalizeComponent","ssrContext","scfl","temDlg","ruleDlg","rule","dialogVisible","JSON","parse","localStorage","getItem","crudOp","crud","ruleV","getData","mainF","getDicT","mainC","focus","change","purNo","deliType","rsxkr1C","dlgF1","dlgC1","dlgC2","dlgPp","assign_default","yinType","finStatus","factoryName","factoryId","registerNo","$nextTick","$custId","e","_this3","yinId","api","addEventListener","_this4","_this5","refCode","poNo","custNo","rc_scfl","title","callback","$$v","visible","append-to-body","close-on-click-modal","update:visible","rcType","scfl_Component","scfl_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/1.3bf27a29ee0fffba93e7.js","sourcesContent":["import { getDIC, getDicT } from '@/config/index'\r\nexport function rsxkr1F(_this) {\r\n  return {\r\n    submitBtn: false,\r\n    emptyBtn: false,\r\n    labelWidth: 130,\r\n    column: [\r\n      {\r\n        label: \"入仓编号\",\r\n        prop: \"yinId\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n      },\r\n\r\n\r\n      // {\r\n      //   label: \"客户名称\",\r\n      //   prop: \"custName\",\r\n      //   span: 6,\r\n      //   placeholder: \" \",\r\n      //   type: \"select\",\r\n      //   display: _this.hide === \"2\" ? true : false,\r\n      //   dicData:\r\n      //     getDicT('basCustomer', 'custName', 'custName')\r\n      // },\r\n      {\r\n        label: \"入仓日期\",\r\n        prop: \"yinDate\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"datetime\", format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n      },\r\n      {\r\n        label: \"采购单号\",\r\n        prop: \"purNo\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        display: _this.hide === \"2\" || _this.hide === \"11\" ? true : false,\r\n      },\r\n      {\r\n        label: \"送货单号\",\r\n        prop: \"deliNo\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        display: _this.hide === \"2\" || _this.hide === \"11\" ? true : false,\r\n      },\r\n      {\r\n        label: \"加工厂名稱\",\r\n        prop: \"factoryId\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        display: _this.hide === \"6\" ? true : false,\r\n        type: \"select\",\r\n        dicData: getDicT(\"vWhseChemicalPlan\", \"refName\", \"refCode\")\r\n      },\r\n      {\r\n        label: \"检验状态\",\r\n        prop: \"yinStatus\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        display: _this.hide != \"2\" && _this.hide != \"11\" ? true : false,\r\n        type: \"select\",\r\n        dicData:\r\n          getDIC('whse_yinstatus')\r\n      },\r\n      {\r\n        label: \"财务状态\",\r\n        prop: \"finStatus\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"select\",\r\n        display: _this.hide != \"2\" && _this.hide != \"11\" && _this.hide != '6' ? true : false,\r\n        dicData:\r\n          getDIC('whse_finStatus')\r\n      },\r\n\r\n    ],\r\n  }\r\n}\r\nexport function rsxkr2F(_this) {\r\n  return {\r\n    submitBtn: false,\r\n    emptyBtn: false,\r\n    labelWidth: 130,\r\n    column: [\r\n      {\r\n        label: \"入仓编号\",\r\n        prop: \"yinId\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        disabled: true,\r\n      },\r\n      {\r\n        label: \"入仓日期\",\r\n        prop: \"yinDate\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        type: \"datetime\", format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        disabled: true\r\n      },\r\n\r\n      {\r\n        label: \"采购单号\",\r\n        prop: \"purNo\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        disabled: true,\r\n        display: _this.hide === \"2\" ? true : false,\r\n      },\r\n      {\r\n        label: \"送货单号\",\r\n        prop: \"deliNo\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        disabled: true,\r\n      },\r\n      {\r\n        label: \"外发厂\",\r\n        prop: \"factoryId\",\r\n        span: 6,\r\n        placeholder: \" \",\r\n        disabled: true,\r\n        display: _this.hide === \"4\" ? true : false,\r\n      },\r\n      // {\r\n      //   label: \"客人通知单\",\r\n      //   prop: \"custNotice\",\r\n      //   span: 6,\r\n      //   placeholder: \" \",\r\n      //   disabled: true\r\n      // },\r\n\r\n    ],\r\n  }\r\n\r\n\r\n}\r\nexport function rsxkr1C(_this) {\r\n  return {\r\n    menu: false,\r\n    addBtn: false,\r\n    border: true,\r\n    highlightCurrentRow: true,\r\n    height: \"calc(100vh - 290px)\",\r\n    refreshBtn: false,\r\n    columnBtn: false,\r\n    page: true,\r\n    column: [\r\n      {\r\n        label: \"成品布入仓主键OID\",\r\n        prop: \"whseAccessoriesinoid\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"序号\",\r\n        prop: \"index\",\r\n        width: 60,\r\n        align: \"center\"\r\n      },\r\n      {\r\n        label: \"创建日期\",\r\n        prop: \"sysCreated\",\r\n        hide: true,\r\n        type: \"datetime\",\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        focus: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n      },\r\n\r\n      {\r\n        label: \"记录删除标记\",\r\n        prop: \"sysDeleted\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"入仓编号\",\r\n        prop: \"yinId\",\r\n        cell: true,\r\n        width: 160,\r\n        change: (val) => {\r\n\r\n          _this.iptChange(_this.chooseData);\r\n\r\n        },\r\n      },\r\n      {\r\n        label: \"入仓类型\",\r\n        prop: \"yinType\",\r\n        cell: false,\r\n        width: 100,\r\n        type: \"select\",\r\n        dicData: getDIC('Whse_AccessoriesType'),\r\n        change: (val) => {\r\n\r\n          _this.iptChange(_this.chooseData);\r\n\r\n        },\r\n      },\r\n      {\r\n        label: \"入仓日期\",\r\n        prop: \"yinDate\",\r\n        cell: true,\r\n        type: \"datetime\",\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        focus: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        width: 190,\r\n        align: \"center\",\r\n      },\r\n      {\r\n        label: \"来料登记编号\",\r\n        prop: \"registerNo\",\r\n        cell: true,\r\n        width: 180,\r\n        change: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        placeholder: \"請選擇来料编号\",\r\n        click: () => {\r\n          _this.choiceField = \"registerNo\"\r\n          _this.choiceV = !_this.choiceV\r\n          _this.oldData = _this.chooseData\r\n          _this.choiceTarget = _this.oldData\r\n          _this.choiceTle = '來輔料登記'\r\n        },\r\n        hide: _this.hide === \"1\" ? false : true,\r\n      },\r\n      {\r\n        label: \"客戶編號\",\r\n        prop: \"custId\",\r\n        cell: false,\r\n        hide: _this.hide === \"1\" ? false : true,\r\n        width: 100,\r\n        type: \"select\",\r\n        dicData: getDicT(\"salIncomacc\", \"custNo\", \"registerNo\"),\r\n      },\r\n      {\r\n        label: \"客戶名称\",\r\n        prop: \"custName\",\r\n        cell: false,\r\n        hide: _this.hide === \"1\" ? false : true,\r\n        type: \"select\",\r\n        dicData: getDicT(\"basCustomer\", \"custName\", \"custCode\"),\r\n        width: 150,\r\n      },\r\n      {\r\n        label: \"採購單號\",\r\n        prop: \"purNo\",\r\n        cell: true,\r\n        width: 180,\r\n        hide: _this.hide === \"2\" || _this.hide === \"11\" ? false : true,\r\n        change: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        click: (val) => {\r\n          if (_this.data.type.split('_')[0] === '五金/行政采购') {\r\n            _this.choiceTle = \"五金採購單\";\r\n\r\n          } else {\r\n            _this.choiceTle = \"生產輔料採購單\";\r\n          }\r\n          _this.choiceV = !_this.choiceV\r\n          _this.choiceField = \"purNo\";\r\n          _this.oldData = _this.chooseData;\r\n          _this.choiceTarget = _this.oldData;\r\n\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n\r\n      {\r\n        label: \"送货单号\",\r\n        prop: \"deliNo\",\r\n        hide: _this.hide === \"2\" || _this.hide === \"11\" ? false : true,\r\n        cell: true,\r\n        width: 160,\r\n        change: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        click: (val) => {\r\n          if (!_this.chooseData.purNo) {\r\n            _this.$tip.error(\"請先選擇採購單號！\")\r\n            return\r\n          }\r\n          if (_this.data.type.split('_')[0] === '五金/行政采购') {\r\n            _this.choiceQ.deliType = 'hardware'\r\n\r\n          } else {\r\n            _this.choiceQ.deliType = 'materials'\r\n          }\r\n          _this.choiceV = !_this.choiceV\r\n\r\n          _this.choiceField = \"deliNo\"\r\n          _this.oldData = _this.chooseData\r\n          // _this.choiceQ.purNo = this.oldData.purNo\r\n          _this.choiceTarget = _this.oldData\r\n          _this.choiceTle = '送貨單'\r\n        },\r\n      },\r\n      {\r\n        label: \"加工厂代號\",\r\n        prop: \"factoryId\",\r\n        cell: true,\r\n        hide: _this.hide === \"6\" ? false : true,\r\n        width: 150,\r\n        placeholder: \"加工厂代號\",\r\n        click: () => {\r\n          _this.choiceField = \"factoryId\"\r\n          _this.choiceV = !_this.choiceV\r\n          _this.oldData = _this.chooseData\r\n          _this.choiceTarget = _this.oldData\r\n          _this.choiceTle = '外厂輔料配料计划',\r\n            _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"加工厂名稱\",\r\n        prop: \"factoryName\",\r\n        cell: false,\r\n        hide: _this.hide === \"6\" ? false : true,\r\n        width: 150,\r\n        type: \"select\",\r\n        dicData: getDicT(\"vWhseChemicalPlan\", \"refName\", \"refCode\")\r\n      },\r\n      {\r\n        label: \"检验状态\",\r\n        prop: \"yinStatus\",\r\n        cell: true,\r\n        width: 100,\r\n        type: \"select\",\r\n        dicData: getDIC('whse_yinstatus'),\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        click: () => {\r\n          _this.iptChange(_this.chooseData);\r\n        }\r\n      },\r\n\r\n      {\r\n        label: \"财务状态\",\r\n        prop: \"finStatus\",\r\n        cell: true,\r\n        width: 100,\r\n        type: \"select\",\r\n        dicData:\r\n          getDIC('whse_finStatus'),\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        click: () => {\r\n          _this.iptChange(_this.chooseData);\r\n        }\r\n      },\r\n      {\r\n        label: \"备注\",\r\n        prop: \"remarks\",\r\n        cell: true,\r\n        width: 180,\r\n        hide: true,\r\n        change: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"创建用户\",\r\n        prop: \"sysCreatedby\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"授权用户\",\r\n        prop: \"sysReplacement\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"所属岗位\",\r\n        prop: \"sysPostn\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"所属部门\",\r\n        prop: \"sysDivision\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"所属组织\",\r\n        prop: \"sysOrg\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"最后修改用户\",\r\n        prop: \"sysLastUpdBy\",\r\n        hide: true,\r\n        width: 150,\r\n      },\r\n      {\r\n        label: \"最后修改日期\",\r\n        prop: \"sysLastUpd\",\r\n        hide: true,\r\n        type: \"datetime\",\r\n        width: 180,\r\n        format: \"yyyy-MM-dd HH:mm:ss\",\r\n        valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        focus: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        change: (val) => {\r\n          if (val.value === '') {\r\n            _this.iptChange(_this.chooseData);\r\n          }\r\n        },\r\n        align: \"center\",\r\n      },\r\n    ],\r\n  }\r\n\r\n}\r\nexport function rsxkr2C(_this) {\r\n  return {\r\n    menu: false,\r\n    addBtn: false,\r\n    border: true,\r\n    highlightCurrentRow: true,\r\n    height: \"calc(100vh - 290px)\",\r\n    refreshBtn: false,\r\n    columnBtn: false,\r\n    page: true,\r\n    roykey: \"whseAccessoriesinoidDtl\",\r\n    showSummary: true,\r\n    sumColumnList: [\r\n      {\r\n        label: \" \",\r\n        name: 'poQty',\r\n        type: 'sum'\r\n      },\r\n    ],\r\n    column: [\r\n      {\r\n        prop: \"index\",\r\n        label: \"序号\",\r\n        width: 60,\r\n        align: \"center\",\r\n\r\n      },\r\n      {\r\n        label: \"whseAccessoriesinoidDtl\",\r\n        prop: \"whseAccessoriesinoidDtl\",\r\n        hide: true,\r\n      },\r\n      {\r\n        label: \"材料编号\",\r\n        prop: \"materialNum\",\r\n        cell: true,\r\n        width: 160,\r\n        placeholder: \"請選擇材料编号\",\r\n        click: (val) => {\r\n          if (_this.datas.type.split('_')[0] === \"五金/行政采购\") {\r\n            _this.choiceTle = \"五金\";\r\n          } else {\r\n            _this.choiceTle = \"生產輔料\";\r\n          }\r\n          _this.choiceV = !_this.choiceV\r\n          _this.choiceField = \"materialNum\";\r\n          _this.oldData = _this.chooseData;\r\n          _this.choiceTarget = _this.oldData;\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"材料类型\",\r\n        prop: \"materialType\",\r\n        cell: false,\r\n        width: 90,\r\n      },\r\n      // {\r\n      //   label: \"規格\",\r\n      //   prop: \"itemspec\",\r\n      //   cell: true,\r\n      //   width: 80,\r\n      //   type: \"select\",\r\n      //   dicData:\r\n      //     getDicT(\"basProductivesupplies\", \"itemspec\", \"hardwareId\")\r\n      // },\r\n      // {\r\n      //   label: \"型号\",\r\n      //   prop: \"model\",\r\n      //   cell: true,\r\n      //   width: 80,\r\n      //   type: \"select\",\r\n      //   dicData: getDicT(\"basProductivesupplies\", \"model\", \"hardwareId\")\r\n      // },\r\n      {\r\n        label: \"批号\",\r\n        prop: \"batchNo\",\r\n        cell: true,\r\n        width: 150,\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"数量\",\r\n        prop: \"poQty\",\r\n        cell: true,\r\n        width: 100,\r\n        align: \"right\",\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n      },\r\n      {\r\n        label: \"数量单位\",\r\n        prop: \"unitQty\",\r\n        cell: true,\r\n        width: 100,\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        type: \"select\",\r\n        dicData: getDIC(\"bas_matUnit\"),\r\n      },\r\n\r\n      {\r\n        label: \"客户编号\",\r\n        prop: \"custId\",\r\n        cell: true,\r\n        width: 120,\r\n        click: (val) => {\r\n          _this.iptChange(_this.chooseData);\r\n        },\r\n        hide: true\r\n      },\r\n      {\r\n        label: \"Whse_AccessoriesIn_FK\",\r\n        prop: \"whseAccessoriesinFk\",\r\n        hide: true,\r\n        width: 100,\r\n\r\n      },\r\n    ],\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/im/Wk/rc/scfl/data.js","<template>\r\n  <div id=\"rcDetail\">\r\n    <!-- <div class=\"formBox\">\r\n      <avue-form ref=\"form\" :option=\"formOp\" v-model=\"form\"></avue-form>\r\n    </div> -->\r\n    <el-row class=\"\">\r\n      <div class=\"btnList\">\r\n        <!-- <el-button type=\"primary\" @click=\"getDetail\">查询</el-button> -->\r\n        <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n        <el-button type=\"danger\" @click=\"del\">删除</el-button>\r\n        <el-button\r\n          type=\"success\"\r\n          :disabled=\"changeList.length === 0\"\r\n          @click=\"save\"\r\n          >保存</el-button\r\n        >\r\n        <!-- <el-button type=\"warning\" @click=\"getDetail\">取消</el-button>\r\n      <el-button type=\"warning\" @click=\"close\">关闭</el-button> -->\r\n      </div>\r\n      <avue-crud\r\n        style=\"margin-top: -5px\"\r\n        ref=\"dlgcrud\"\r\n        :option=\"mxOp\"\r\n        v-loading=\"loading\"\r\n        :data=\"mx\"\r\n        :page.sync=\"page\"\r\n        @current-row-change=\"cellClick\"\r\n        @on-load=\"getDetail\"\r\n      ></avue-crud>\r\n    </el-row>\r\n    <choice\r\n      :choiceV=\"choiceV\"\r\n      :choiceTle=\"choiceTle\"\r\n      :choiceQ=\"choiceQ\"\r\n      dlgWidth=\"60%\"\r\n      @choiceData=\"choiceData\"\r\n      @close=\"choiceV = false\"\r\n      v-if=\"choiceV\"\r\n    ></choice>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { rsxkr2C, rsxkr2F } from \"./data\";\r\nimport { getDIC, getDicT } from \"@/config/index\";\r\nimport choice from \"@/components/choice\";\r\nimport {\r\n  getScflDetali,\r\n  addScflDetali,\r\n  updateScflDetali,\r\n  delScflDetali,\r\n} from \"@/api/im/Wk/rc\";\r\nexport default {\r\n  props: {\r\n    datas: Object,\r\n    everyThing: Object,\r\n    hide: String,\r\n  },\r\n  name: \"\",\r\n  components: {\r\n    choice: choice,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      page: {\r\n        pageSize: 10,\r\n        currentPage: 1,\r\n        total: 0,\r\n      },\r\n      detail: {},\r\n      formOp: rsxkr2F(this),\r\n      mxOp: rsxkr2C(this),\r\n      mx: [],\r\n      other: [],\r\n      form: {},\r\n      oldData: {},\r\n      chooseData: {},\r\n      changeList: [],\r\n      canLeave: false,\r\n      choiceV: false,\r\n      choiceTle: \"來胚布登記\",\r\n      choiceTarget: {},\r\n      choiceField: \"\",\r\n      choiceQ: {},\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    getDetail() {\r\n      if (\r\n        Object.keys(this.detail).length === 0 ||\r\n        !this.detail.whseAccessoriesinoid\r\n      ) {\r\n        this.mx = [];\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.oldData = {};\r\n      this.changeList = [];\r\n      this.chooseData = {};\r\n      this.mx = [];\r\n      this.mxOp.showSummary = false;\r\n      getScflDetali({\r\n        rows: this.page.pageSize,\r\n        start: this.page.currentPage,\r\n        whseAccessoriesinFk: this.detail.whseAccessoriesinoid,\r\n      }).then((res) => {\r\n        let records = res.data;\r\n        this.page.total = records.total;\r\n        this.mx = records.records;\r\n        this.$refs.dlgcrud.setCurrentRow();\r\n        if (this.mx.length === 0) {\r\n          this.loading = false;\r\n        }\r\n        this.mx.forEach((item, index) => {\r\n          item.index = index + 1;\r\n          item.model = item.materialNum;\r\n          item.itemspec = item.materialNum;\r\n          if (index === this.mx.length - 1) {\r\n            this.mxOp.showSummary = true;\r\n            this.loading = false;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    add() {\r\n      if (Object.keys(this.detail).length === 0) {\r\n        this.$tip.error(\"请先选择入库资料\");\r\n        return;\r\n      } else if (!this.detail.whseAccessoriesinoid) {\r\n        this.$tip.error(\"请先保存入库资料\");\r\n        return;\r\n      }\r\n      if (\r\n        this.mx.length > 0 &&\r\n        !this.mx[this.mx.length - 1].whseAccessoriesDtloid\r\n      ) {\r\n        return;\r\n      }\r\n      if (Object.keys(this.oldData).length > 0) {\r\n        this.oldData.$cellEdit = false;\r\n      }\r\n      this.mx.push({\r\n        index: this.mx.length + 1,\r\n        $cellEdit: true,\r\n        custId: this.detail.custName,\r\n        whseAccessoriesinFk: this.detail.whseAccessoriesinoid,\r\n      });\r\n      this.$refs.dlgcrud.setCurrentRow(this.mx[this.mx.length - 1]);\r\n      this.iptChange(this.mx[this.mx.length - 1]);\r\n      this.oldData = this.mx[this.mx.length - 1];\r\n    },\r\n    iptChange(val) {\r\n      if (this.changeList.length === 0) {\r\n        this.changeList.push(val);\r\n      } else {\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (val.index === this.changeList[i].index) {\r\n            this.changeList[i] = val;\r\n            return;\r\n          }\r\n          if (\r\n            this.changeList.length - 1 === i &&\r\n            this.changeList[i].index != val.index\r\n          ) {\r\n            this.changeList.push(val);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    del() {\r\n      if (Object.keys(this.chooseData).length === 0) {\r\n        this.$tip.error(\"请选择要删除的数据!\");\r\n        return;\r\n      }\r\n      if (!this.chooseData.whseAccessoriesDtloid) {\r\n        this.mx.splice(this.chooseData.index - 1, 1);\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (this.changeList[i].index === this.chooseData.index) {\r\n            this.changeList.splice(i, 1);\r\n            this.$refs.dlgcrud.setCurrentRow(this.mx[this.mx.length - 1]);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      this.$tip\r\n        .cofirm(\"是否确定删除\", this, {})\r\n        .then(() => {\r\n          delScflDetali(this.chooseData.whseAccessoriesDtloid)\r\n            .then((res) => {\r\n              if (res.data.code === 200) {\r\n                this.$tip.success(\"删除成功\");\r\n                this.mx.splice(this.chooseData.index - 1, 1);\r\n                this.getDetail();\r\n              } else {\r\n                this.$tip.error(\"删除失败\");\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              this.$tip.error(\"删除失败!\");\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          this.$tip.warning(\"取消操作\");\r\n        });\r\n    },\r\n    cellClick(val) {\r\n      this.oldData.$cellEdit = false;\r\n      this.$set(val, \"$cellEdit\", true);\r\n      this.oldData = val;\r\n      this.chooseData = val;\r\n    },\r\n    save() {\r\n      for (let i = 0; i < this.changeList.length; i++) {\r\n        if (!this.changeList[i].materialNum || !this.changeList[i].batchNo) {\r\n          this.$tip.error(\"材料编号/批数不能为空!\");\r\n          this.canLeave = true;\r\n          return;\r\n        }\r\n      }\r\n      this.changeList.forEach((item, index) => {\r\n        if (item.whseAccessoriesDtloid) {\r\n          updateScflDetali(item).then((res) => {});\r\n        } else {\r\n          addScflDetali(item).then((res) => {});\r\n        }\r\n      });\r\n      this.changeList = [];\r\n      this.getDetail();\r\n      this.$tip.success(\"保存成功!\");\r\n    },\r\n    choiceData(val) {\r\n      if (Object.keys(val).length === 0) {\r\n        this.choiceV = false;\r\n        return;\r\n      }\r\n      if (this.choiceTle === \"生產輔料\") {\r\n        this.choiceTarget.materialType = val.$basProductionaccFk;\r\n      } else if (val.$basAdsuppliesFk) {\r\n        this.choiceTarget.materialType = val.$basAdsuppliesFk;\r\n      } else {\r\n        this.choiceTarget.materialType = val.$basHardwareFk;\r\n      }\r\n      this.oldData.$cellEdit = false;\r\n      this.choiceTarget[this.choiceField] = val[this.choiceField];\r\n      this.choiceTarget.materialNum = val.hardwareId;\r\n\r\n      // this.choiceTarget.model = val.hardwareId;\r\n      // this.choiceTarget.itemspec = val.hardwareId;\r\n      this.choiceTarget.unitQty = val.msUnit;\r\n      this.oldData.$cellEdit = true;\r\n\r\n      for (var key in val) {\r\n        delete val[key];\r\n      }\r\n      for (var key in this.choiceQ) {\r\n        delete this.choiceQ[key];\r\n      }\r\n      this.choiceV = false;\r\n    },\r\n    close() {\r\n      document.getElementsByClassName(\"el-dialog__headerbtn\")[2].click();\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.form = this.detail;\r\n    // if (this.datas.type.split(\"_\")[0] === \"五金/行政采购\") {\r\n    //   let M1 = getDicT(\"basAdsuppliesarticles\", \"model\", \"hardwareId\"),\r\n    //     M2 = getDicT(\"basHardwarearticles\", \"model\", \"hardwareId\"),\r\n    //     I1 = getDicT(\"basAdsuppliesarticles\", \"itemspec\", \"hardwareId\"),\r\n    //     I2 = getDicT(\"basHardwarearticles\", \"itemspec\", \"hardwareId\");\r\n    //   setTimeout(() => {\r\n    //     this.mxOp.column[5].dicData = M1.concat(M2);\r\n    //     this.mxOp.column[4].dicData = I1.concat(I2);\r\n    //   }, 1000);\r\n    // }\r\n    // this.getDetail();\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n#rcDetail {\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/im/Wk/rc/scfl/tem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"rcDetail\"}},[_c('el-row',{},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.del}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.changeList.length === 0},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dlgcrud\",staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"option\":_vm.mxOp,\"data\":_vm.mx,\"page\":_vm.page},on:{\"update:page\":function($event){_vm.page=$event},\"current-row-change\":_vm.cellClick,\"on-load\":_vm.getDetail}})],1),_vm._v(\" \"),(_vm.choiceV)?_c('choice',{attrs:{\"choiceV\":_vm.choiceV,\"choiceTle\":_vm.choiceTle,\"choiceQ\":_vm.choiceQ,\"dlgWidth\":\"60%\"},on:{\"choiceData\":_vm.choiceData,\"close\":function($event){_vm.choiceV = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56b028fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/im/Wk/rc/scfl/tem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-56b028fa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tem.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56b028fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/im/Wk/rc/scfl/tem.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"rc\">\r\n    <view-container :title=\"data.type.split('_')[0]\">\r\n      <div class=\"btnList\">\r\n        <!-- <el-button type=\"warning\" @click=\"getData\">取消</el-button> -->\r\n        <el-button type=\"warning\" @click=\"ruleV = true\">編號規則配置</el-button>\r\n        <el-button type=\"primary\" @click=\"getData\">查询</el-button>\r\n        <el-button type=\"warning\" @click=\"close\">关闭</el-button>\r\n      </div>\r\n      <div class=\"formBox\">\r\n        <avue-form\r\n          ref=\"form\"\r\n          :option=\"everyThing.mainF\"\r\n          v-model=\"form\"\r\n        ></avue-form>\r\n      </div>\r\n      <el-row class=\"crudBox\">\r\n        <el-col :span=\"14\">\r\n          <view-container :title=\"data.type.split('_')[0] + '入库'\">\r\n            <div class=\"btnList\">\r\n              <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n              <el-button type=\"danger\" @click=\"del\">删除</el-button>\r\n              <el-button\r\n                type=\"success\"\r\n                :disabled=\"changeList.length === 0\"\r\n                @click=\"save\"\r\n                >保存</el-button\r\n              >\r\n            </div>\r\n            <avue-crud\r\n              style=\"margin-top: -5px\"\r\n              ref=\"crud\"\r\n              id=\"crud\"\r\n              :option=\"everyThing.mainC\"\r\n              :data=\"crud\"\r\n              :page.sync=\"page\"\r\n              v-loading=\"loading\"\r\n              @on-load=\"getData\"\r\n              @current-row-change=\"cellClick\"\r\n            ></avue-crud> </view-container\r\n        ></el-col>\r\n        <el-col :span=\"10\">\r\n          <view-container :title=\"data.type.split('_')[0] + '入库明细'\">\r\n            <tem-dlg\r\n              ref=\"tem\"\r\n              :datas=\"data\"\r\n              :everyThing=\"everyThing\"\r\n              :hide=\"hide\"\r\n            ></tem-dlg></view-container\r\n        ></el-col>\r\n      </el-row>\r\n      <el-dialog\r\n        id=\"wkRuleDlg\"\r\n        :visible.sync=\"ruleV\"\r\n        width=\"50%\"\r\n        append-to-body\r\n        :close-on-click-modal=\"false\"\r\n        v-if=\"ruleV\"\r\n      >\r\n        <rule-dlg\r\n          ref=\"rule\"\r\n          :rcType=\"'whse_In_Accessories'\"\r\n          @close=\"ruleV = false\"\r\n        ></rule-dlg>\r\n      </el-dialog>\r\n      <choice\r\n        :choiceV=\"choiceV\"\r\n        :choiceTle=\"choiceTle\"\r\n        :choiceQ=\"choiceQ\"\r\n        dlgWidth=\"60%\"\r\n        @choiceData=\"choiceData\"\r\n        @close=\"choiceV = false\"\r\n        v-if=\"choiceV\"\r\n      ></choice>\r\n    </view-container>\r\n  </div>\r\n</template>\r\n<script>\r\nimport tem from \"./tem\";\r\nimport rule from \"@/components/rule\";\r\nimport {\r\n  getScfl,\r\n  getScflDetali,\r\n  addScfl,\r\n  updateScfl,\r\n  delScfl,\r\n} from \"@/api/im/Wk/rc\";\r\nimport { baseCodeSupply } from \"@/api/index\";\r\nimport choice from \"@/components/choice\";\r\nimport { rsxkr1F, rsxkr1C, rsxkr2C, rsxkr2F } from \"./data\";\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    temDlg: tem,\r\n    ruleDlg: rule,\r\n    choice: choice,\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      loading: false,\r\n      data: JSON.parse(localStorage.getItem(\"imWk\")),\r\n      page: {\r\n        pageSize: 10,\r\n        currentPage: 1,\r\n        total: 0,\r\n      },\r\n      hide: JSON.parse(localStorage.getItem(\"imWk\")).type.split(\"_\")[1],\r\n      formOp: {},\r\n      form: {},\r\n      crudOp: {},\r\n      crud: [],\r\n      detail: {},\r\n      everyThing: {},\r\n      oldData: {},\r\n      chooseData: {},\r\n      changeList: [],\r\n      ruleV: false,\r\n      choiceV: false,\r\n      choiceTle: \"\",\r\n      choiceTarget: {},\r\n      choiceField: \"\",\r\n      choiceQ: {},\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    getData() {\r\n      this.loading = true;\r\n      // this.crud = [];\r\n      this.oldData = {};\r\n      this.chooseData = {};\r\n\r\n      this.everyThing = {\r\n        mainF: rsxkr1F(this),\r\n        mainC: rsxkr1C(this),\r\n        dlgF1: rsxkr2F,\r\n        dlgC1: rsxkr2C,\r\n        dlgC2: {},\r\n        dlgPp: \"24:0\",\r\n      };\r\n\r\n      for (var key in this.form) {\r\n        if (this.form[key] === \"\") {\r\n          delete this.form[key];\r\n        }\r\n      }\r\n      getScfl(\r\n        Object.assign(this.form, {\r\n          rows: this.page.pageSize,\r\n          start: this.page.currentPage,\r\n          yinType: JSON.parse(localStorage.getItem(\"imWk\")).type.split(\"_\")[1],\r\n        })\r\n      )\r\n        .then((res) => {\r\n          let records = res.data;\r\n          this.page.total = records.total;\r\n          this.crud = records.records;\r\n          if (this.crud.length === 0) {\r\n            this.loading = false;\r\n          }\r\n          this.changeList = [];\r\n          this.$refs.tem.changeList = [];\r\n          // if (Object.keys(this.chooseData).length > 0) {\r\n          //   this.$refs.crud.setCurrentRow(this.crud[this.chooseData.index - 1]);\r\n          // } else {\r\n          //   this.$refs.crud.setCurrentRow(this.crud[0]);\r\n          // }\r\n          this.crud.forEach((item, index) => {\r\n            item.finStatus = String(item.finStatus);\r\n            item.index = index + 1;\r\n            item.factoryName = item.factoryId;\r\n            item.custId = item.registerNo;\r\n            this.$refs.crud.setCurrentRow();\r\n            if (index === this.crud.length - 1) {\r\n              this.$refs.tem.mx = [];\r\n              this.loading = false;\r\n            }\r\n          });\r\n          this.$nextTick(() => {\r\n            this.crud.forEach((item, index) => {\r\n              this.$set(item, \"custName\", item.$custId);\r\n            });\r\n          });\r\n        })\r\n        .catch((e) => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    add() {\r\n      if (\r\n        this.crud.length > 0 &&\r\n        !this.crud[this.crud.length - 1].whseAccessoriesinoid\r\n      ) {\r\n        return;\r\n      }\r\n      if (Object.keys(this.oldData).length > 0) {\r\n        this.oldData.$cellEdit = false;\r\n      }\r\n      let data = {\r\n        index: this.crud.length + 1,\r\n        $cellEdit: true,\r\n        yinType: this.hide,\r\n        yinId: \"\",\r\n      };\r\n      baseCodeSupply({ code: \"whse_In_Accessories\" }).then((res) => {\r\n        data.yinId = res.data.data;\r\n      });\r\n      this.crud.push(data);\r\n      this.$refs.crud.setCurrentRow(this.crud[this.crud.length - 1]);\r\n      this.iptChange(this.crud[this.crud.length - 1]);\r\n      this.oldData = this.crud[this.crud.length - 1];\r\n      this.$nextTick(() => {\r\n        // 绑定 输入 事件\r\n        let _this = this;\r\n        document\r\n          .getElementsByClassName(\"el-table__row\")\r\n          [_this.crud.length - 1].addEventListener(\r\n            \"input\",\r\n            function () {\r\n              _this.iptChange(_this.oldData);\r\n            },\r\n            false\r\n          );\r\n      });\r\n    },\r\n    iptChange(val) {\r\n      if (this.changeList.length === 0) {\r\n        this.changeList.push(val);\r\n      } else {\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (val.index === this.changeList[i].index) {\r\n            this.changeList[i] = val;\r\n            return;\r\n          }\r\n          if (\r\n            this.changeList.length - 1 === i &&\r\n            this.changeList[i].index != val.index\r\n          ) {\r\n            this.changeList.push(val);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    del() {\r\n      if (Object.keys(this.chooseData).length === 0) {\r\n        this.$tip.error(\"请选择要删除的数据!\");\r\n        return;\r\n      }\r\n      if (!this.chooseData.whseAccessoriesinoid) {\r\n        this.crud.splice(this.chooseData.index - 1, 1);\r\n        for (let i = 0; i < this.changeList.length; i++) {\r\n          if (this.changeList[i].index === this.chooseData.index) {\r\n            this.changeList.splice(i, 1);\r\n            this.$refs.crud.setCurrentRow(this.crud[this.crud.length - 1]);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      this.$tip\r\n        .cofirm(\"是否确定删除\", this, {})\r\n        .then(() => {\r\n          delScfl(this.chooseData.whseAccessoriesinoid)\r\n            .then((res) => {\r\n              if (res.data.code === 200) {\r\n                this.$tip.success(\"删除成功\");\r\n                this.crud.splice(this.chooseData.index - 1, 1);\r\n                this.getData();\r\n              } else {\r\n                this.$tip.error(\"删除失败\");\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              this.$tip.error(\"删除失败!\");\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          this.$tip.warning(\"取消操作\");\r\n        });\r\n    },\r\n    cellClick(val) {\r\n      if (this.$refs.tem.canLeave) {\r\n        this.oldData.$cellEdit = false;\r\n        this.$set(val, \"$cellEdit\", true);\r\n        this.oldData = val;\r\n        this.chooseData = val;\r\n        this.$refs.tem.canLeave = false;\r\n        return;\r\n      }\r\n      if (this.$refs.tem.changeList.length > 0) {\r\n        this.$tip\r\n          .cofirm(\"是否保存当前修改的批号资料?\", this, {})\r\n          .then(() => {\r\n            this.$refs.tem.save();\r\n            this.$nextTick(() => {\r\n              this.$refs.crud.setCurrentRow(this.oldData);\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            this.oldData.$cellEdit = false;\r\n            this.$set(val, \"$cellEdit\", true);\r\n            this.oldData = val;\r\n            this.chooseData = val;\r\n            this.$refs.tem.detail = val;\r\n            this.$refs.tem.getDetail();\r\n          });\r\n      } else {\r\n        this.oldData.$cellEdit = false;\r\n        this.$set(val, \"$cellEdit\", true);\r\n        this.oldData = val;\r\n        this.chooseData = val;\r\n        this.$refs.tem.detail = val;\r\n        this.$refs.tem.getDetail();\r\n      }\r\n    },\r\n    save() {\r\n      for (let i = 0; i < this.changeList.length; i++) {\r\n        if (!this.changeList[i].yinId || !this.changeList[i].purNo) {\r\n          this.$tip.error(\"入仓编号/採購單號不能为空!\");\r\n          return;\r\n        }\r\n      }\r\n      this.changeList.forEach((item, index) => {\r\n        if (item.finStatus === \"null\") {\r\n          item.finStatus = \"\";\r\n        }\r\n        if (item.whseAccessoriesinoid) {\r\n          updateScfl(item).then((res) => {});\r\n        } else {\r\n          addScfl(item).then((res) => {});\r\n        }\r\n      });\r\n      this.getData();\r\n      this.changeList = [];\r\n      this.$tip.success(\"保存成功!\");\r\n    },\r\n    choiceData(val) {\r\n      if (Object.keys(val).length === 0) {\r\n        this.choiceV = false;\r\n        return;\r\n      }\r\n      this.oldData.$cellEdit = false;\r\n      this.choiceTarget[this.choiceField] = val[this.choiceField];\r\n      if (this.choiceTle === \"外厂輔料配料计划\") {\r\n        this.choiceTarget.factoryId = val.refCode;\r\n        this.choiceTarget.factoryName = val.refCode;\r\n      }\r\n      if (\r\n        this.choiceTle === \"五金採購單\" ||\r\n        this.choiceTle === \"生產輔料採購單\"\r\n      ) {\r\n        this.choiceTarget.purNo = val.poNo;\r\n      }\r\n      this.choiceTarget.custId = val.custNo;\r\n      this.choiceTarget.custName = val.custNo;\r\n      this.oldData.$cellEdit = true;\r\n      for (var key in val) {\r\n        delete val[key];\r\n      }\r\n      for (var key in this.choiceQ) {\r\n        delete this.choiceQ[key];\r\n      }\r\n      this.choiceV = false;\r\n    },\r\n    close() {\r\n      document.getElementsByClassName(\"el-dialog__headerbtn\")[0].click();\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    // this.getData();\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n#rc, #rcDetail {\r\n  .formBox {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .el-button--mini, .el-button--small {\r\n    font-size: 16px;\r\n  }\r\n\r\n  .el-button--mini, .el-button--mini.is-round {\r\n    padding: 5px 10px;\r\n  }\r\n\r\n  .avue-crud__menu {\r\n    min-height: 5px !important;\r\n    height: 5px !important;\r\n  }\r\n\r\n  .el-tabs__item {\r\n    font-size: 18px;\r\n    line-height: 30px;\r\n    height: 30px;\r\n  }\r\n\r\n  .el-table__header-wrapper, .el-form-item__label, .el-input--mini {\r\n    font-size: 16px !important;\r\n    font-weight: 600 !important;\r\n    color: #000;\r\n  }\r\n\r\n  // .avue-form__group {\r\n  // background-color: #fff;\r\n  // }\r\n\r\n  // .el-table--mini td, .el-table--mini th {\r\n  // padding: 2px 0 !important;\r\n  // }\r\n  .el-form-item--mini.el-form-item, .el-form-item--small.el-form-item {\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/im/Wk/rc/scfl/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"rc\"}},[_c('view-container',{attrs:{\"title\":_vm.data.type.split('_')[0]}},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.ruleV = true}}},[_vm._v(\"編號規則配置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"formBox\"},[_c('avue-form',{ref:\"form\",attrs:{\"option\":_vm.everyThing.mainF},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}})],1),_vm._v(\" \"),_c('el-row',{staticClass:\"crudBox\"},[_c('el-col',{attrs:{\"span\":14}},[_c('view-container',{attrs:{\"title\":_vm.data.type.split('_')[0] + '入库'}},[_c('div',{staticClass:\"btnList\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.del}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.changeList.length === 0},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"crud\",staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"id\":\"crud\",\"option\":_vm.everyThing.mainC,\"data\":_vm.crud,\"page\":_vm.page},on:{\"update:page\":function($event){_vm.page=$event},\"on-load\":_vm.getData,\"current-row-change\":_vm.cellClick}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('view-container',{attrs:{\"title\":_vm.data.type.split('_')[0] + '入库明细'}},[_c('tem-dlg',{ref:\"tem\",attrs:{\"datas\":_vm.data,\"everyThing\":_vm.everyThing,\"hide\":_vm.hide}})],1)],1)],1),_vm._v(\" \"),(_vm.ruleV)?_c('el-dialog',{attrs:{\"id\":\"wkRuleDlg\",\"visible\":_vm.ruleV,\"width\":\"50%\",\"append-to-body\":\"\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.ruleV=$event}}},[_c('rule-dlg',{ref:\"rule\",attrs:{\"rcType\":'whse_In_Accessories'},on:{\"close\":function($event){_vm.ruleV = false}}})],1):_vm._e(),_vm._v(\" \"),(_vm.choiceV)?_c('choice',{attrs:{\"choiceV\":_vm.choiceV,\"choiceTle\":_vm.choiceTle,\"choiceQ\":_vm.choiceQ,\"dlgWidth\":\"60%\"},on:{\"choiceData\":_vm.choiceData,\"close\":function($event){_vm.choiceV = false}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5784a29f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/im/Wk/rc/scfl/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5784a29f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5784a29f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/im/Wk/rc/scfl/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}