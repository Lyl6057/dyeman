{"version":3,"sources":["webpack:///src/view/iq/Gq/index.vue","webpack:///./src/view/iq/Gq/index.vue?99b0","webpack:///./src/view/iq/Gq/index.vue","webpack:///./node_modules/core-js/library/modules/es7.set.to-json.js","webpack:///./node_modules/core-js/library/modules/es7.set.from.js","webpack:///./node_modules/babel-runtime/core-js/set.js","webpack:///./node_modules/core-js/library/modules/es7.set.of.js","webpack:///./node_modules/core-js/library/fn/set.js","webpack:///./node_modules/core-js/library/modules/es6.set.js"],"names":["iq_Gq","name","props","checkData","Array","leftWidth","String","components","data","dialogVisible","loading","loadingDlg","existData","dlgTle","controll","border","full","crudData","crudOp","menu","addBtn","highlightCurrentRow","showSummary","sumColumnList","label","type","column","prop","align","hide","area","x","y","list","watch","methods","getData","_this","this","Object","Gq","then","res","forEach","item","index","isExtreme","maxX","maxY","push","undefined","arrGroup","sort","axisY","axisX","axisZ","setTimeout","$nextTick","boxCarId","set_default","a","split","i","length","check","getDetail","val","_this2","exist","boxId","domSet","document","getElementsByClassName","addEventListener","isScroll","dom","scrollLeft","scrollTop","arr","map","dest","ai","j","dj","created","mounted","beforeDestroy","view_iq_Gq","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","attrs","id","staticClass","_v","content","placement","model","callback","$$v","$set","style","width","height","_l","key","class","cabinet_check","highLight","marginLeft","marginTop","backgroundColor","state","display","color","title","trigger","option","slot","on","click","$event","_s","_e","items","indexs","partition","endX","startX","endY","startY","lineHeight","top","left","minWidth","areaName","visible","append-to-body","update:visible","staticStyle","margin-top","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","$export","P","R","toJSON","module","exports","default","__esModule","Set","strong","validate","get","arguments","add","def"],"mappings":"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","file":"static/js/5.d22c6e6684f4079f2f8e.js","sourcesContent":["<template>\r\n  <div id=\"iqGq\" v-drap=\"{ x: 'content', y: 'content' }\">\r\n    <div class=\"navigation\">\r\n      <div class=\"one\">一层</div>\r\n      <div class=\"two\">二层</div>\r\n      <!-- <div class=\"three\">设备</div> -->\r\n      <div class=\"controll\">\r\n        <span>坐标轴：</span>\r\n        <el-tooltip :content=\"'坐标轴: ' + controll.border\" placement=\"top\">\r\n          <el-switch v-model=\"controll.border\"> </el-switch>\r\n        </el-tooltip>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div\r\n        class=\"box\"\r\n        :style=\"{\r\n          width: area.x * 70 + 30 + 'px',\r\n          height: area.y * 70 + 30 + 'px',\r\n        }\"\r\n        v-loading=\"loading\"\r\n      >\r\n        <div class=\"wareHouse\" v-for=\"item of data\" :key=\"item.axisY\">\r\n          <div\r\n            class=\"cabinet\"\r\n            v-for=\"(list, index) of item.list\"\r\n            :key=\"index\"\r\n            :class=\"{\r\n              cabinet_check: list.highLight,\r\n            }\"\r\n            :style=\"{\r\n              marginLeft:\r\n                (list.axisX > 1 ? (list.axisX - 1) * 70 + 10 : 10) + 'px',\r\n              marginTop: (list.axisZ > 1 ? 10 : 35) + 'px',\r\n              backgroundColor:\r\n                list.state === '1'\r\n                  ? list.check\r\n                    ? 'red'\r\n                    : list.axisZ > 1\r\n                    ? '#409EFF'\r\n                    : '#67C23A'\r\n                  : list.state === '2'\r\n                  ? '#ccc'\r\n                  : '',\r\n              display: list.state === '1' || list.state === '2' ? '' : 'none',\r\n              color: '#fff',\r\n            }\"\r\n          >\r\n            <el-popover\r\n              placement=\"top-start\"\r\n              :title=\"dlgTle\"\r\n              width=\"600\"\r\n              trigger=\"click\"\r\n              v-if=\"list.exist\"\r\n            >\r\n              <avue-crud\r\n                v-loading=\"loadingDlg\"\r\n                :data=\"crudData\"\r\n                :option=\"crudOp\"\r\n              ></avue-crud>\r\n              <div slot=\"reference\" @click=\"getDetail(list)\">\r\n                {{ list.exist ? \"✔\" : \"\" }}\r\n              </div>\r\n            </el-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"area\">\r\n          <div\r\n            class=\"xBox\"\r\n            v-show=\"controll.border\"\r\n            :style=\"{\r\n              width: leftWidth,\r\n            }\"\r\n          >\r\n            <div\r\n              class=\"xShaft\"\r\n              :style=\"{\r\n                width: area.x * 70 + 55 + 'px',\r\n              }\"\r\n            >\r\n              <div v-for=\"(items, indexs) of area.x\" :key=\"indexs\">\r\n                {{ items }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"yBox\" v-show=\"controll.border\">\r\n            <div\r\n              class=\"yShaft\"\r\n              :style=\"{\r\n                height: area.y * 70 + 60 + 'px',\r\n              }\"\r\n            >\r\n              <div v-for=\"(items, indexs) of area.y\" :key=\"indexs\">\r\n                {{ items }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"partition\"\r\n            v-for=\"partition of area.list\"\r\n            :key=\"partition.name\"\r\n            :style=\"{\r\n              width: (partition.endX - partition.startX + 1) * 70 + 'px',\r\n              height: (partition.endY - partition.startY + 1) * 70 + 'px',\r\n              lineHeight:\r\n                partition.endY - partition.startY + 1 === 1\r\n                  ? '50px'\r\n                  : (partition.endY - partition.startY + 1) * 70 + 'px',\r\n              top:\r\n                partition.startY > 1\r\n                  ? (partition.startY - 1) * 70 + 16 + 'px'\r\n                  : '16px',\r\n              left:\r\n                partition.startX > 1\r\n                  ? (partition.startX - 1) * 70 + 15 + 'px'\r\n                  : '15px',\r\n              backgroundColor: partition.check ? 'red' : '',\r\n            }\"\r\n          >\r\n            <div\r\n              :style=\"{\r\n                minWidth: partition.areaName.length > 3 ? '75px' : '',\r\n              }\"\r\n            >\r\n              {{ partition.areaName }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-dialog\r\n      :title=\"dlgTle\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"60%\"\r\n      append-to-body\r\n    >\r\n      <div class=\"formBox\" style=\"margin-top: 10px\">\r\n        <avue-crud\r\n          v-loading=\"loadingDlg\"\r\n          :data=\"crudData\"\r\n          :option=\"crudOp\"\r\n        ></avue-crud>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getWarehouseArea,\r\n  getBoxLocation,\r\n  updateBoxLocation,\r\n  getBoxDetail,\r\n} from \"@/api/iq/Gq/index\";\r\nexport default {\r\n  name: \"\",\r\n  props: {\r\n    checkData: Array,\r\n    leftWidth: String,\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      loading: false,\r\n      loadingDlg: false,\r\n      existData: [],\r\n      dlgTle: \"\",\r\n      controll: {\r\n        border: false,\r\n        full: false,\r\n      },\r\n      crudData: [],\r\n      crudOp: {\r\n        menu: false,\r\n        addBtn: false,\r\n        border: true,\r\n        highlightCurrentRow: true,\r\n        showSummary: true,\r\n        sumColumnList: [\r\n          {\r\n            label: \"共\",\r\n            name: \"weight\",\r\n            type: \"sum\",\r\n          },\r\n        ],\r\n        column: [\r\n          {\r\n            label: \"批号\",\r\n            prop: \"batchNo\",\r\n          },\r\n          {\r\n            label: \"疋号\",\r\n            prop: \"countingNo\",\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"车笼id\",\r\n            prop: \"boxCarId\",\r\n            hide: true,\r\n          },\r\n          // {\r\n          //   label: \"客人布票号\",\r\n          //   prop: \"custTicket\",\r\n          // },\r\n          // {\r\n          //   label: \"通过\",\r\n          //   prop: \"isAdopt\",\r\n\r\n          //   type: \"select\",\r\n          //   dicData: [\r\n          //     {\r\n          //       value: true,\r\n          //       label: \"通过\",\r\n          //     },\r\n          //     {\r\n          //       value: false,\r\n          //       label: \"不通过\",\r\n          //     },\r\n          //   ],\r\n          // },\r\n          {\r\n            label: \"重量\",\r\n            prop: \"weight\",\r\n            align: \"right\",\r\n          },\r\n          {\r\n            label: \"单位\",\r\n            prop: \"weightUnit\",\r\n          },\r\n        ],\r\n      },\r\n      area: {\r\n        x: 50,\r\n        y: 5,\r\n        list: [],\r\n      },\r\n      data: [],\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    getData() {\r\n      this.loading = true;\r\n      getWarehouseArea().then((res) => {\r\n        res.data.forEach((item, index) => {\r\n          if (item.isExtreme) {\r\n            this.area.x = item.maxX;\r\n            this.area.y = item.maxY;\r\n          } else {\r\n            this.area.list.push(item);\r\n          }\r\n        });\r\n      });\r\n      getBoxLocation().then((res) => {\r\n        if (this.checkData != undefined) {\r\n          res.data.forEach((item, index) => {});\r\n        }\r\n        this.data = this.arrGroup(res.data).sort((x, y) => {\r\n          return x.axisY - y.axisY;\r\n        });\r\n        this.data.forEach((item) => {\r\n          item.list.sort((x, y) => {\r\n            if (x.axisX === y.axisX) {\r\n              return x.axisZ - y.axisZ;\r\n            }\r\n            return x.axisX - y.axisX;\r\n          });\r\n        });\r\n      });\r\n      if (this.checkData != undefined) {\r\n        setTimeout(() => {\r\n          this.$nextTick(() => {\r\n            let data = [];\r\n            this.checkData.forEach((item, index) => {\r\n              data.push(item.boxCarId);\r\n            });\r\n            data = new Set(data);\r\n            data.forEach((item) => {\r\n              let x = item.split(\"-\")[0];\r\n              let y = item.split(\"-\")[1];\r\n              for (let i = 0; i < this.data[y - 1].list.length; i++) {\r\n                if (item === this.data[y - 1].list[i].boxCarId) {\r\n                  this.data[y - 1].list[i].check = true;\r\n                  // this.data[y - 1].list[i].highLight = false;\r\n                  this.existData.push(this.data[y - 1].list[i].check);\r\n                }\r\n              }\r\n            });\r\n          });\r\n          this.loading = false;\r\n        }, 1500);\r\n      } else {\r\n        setTimeout(() => {\r\n          this.loading = false;\r\n        }, 500);\r\n      }\r\n    },\r\n    getDetail(val) {\r\n      if (!val.exist) {\r\n        return;\r\n      }\r\n      // this.dlgTle = val.boxCode;\r\n      // this.dialogVisible = true;\r\n      this.loadingDlg = true;\r\n      getBoxDetail({\r\n        boxId: val.boxId,\r\n      }).then((res) => {\r\n        this.crudData = res.data;\r\n        this.loadingDlg = false;\r\n      });\r\n    },\r\n    domSet() {\r\n      // 监听scroll事件\r\n      let dom = document.getElementsByClassName(\"content\")[0];\r\n      dom.addEventListener(\"scroll\", this.isScroll, true);\r\n    },\r\n    isScroll() {\r\n      let dom = document.getElementsByClassName(\"content\")[0];\r\n      let x = document.getElementsByClassName(\"xBox\")[0];\r\n      let y = document.getElementsByClassName(\"yBox\")[0];\r\n      x.scrollLeft = dom.scrollLeft;\r\n      y.scrollTop = dom.scrollTop;\r\n    },\r\n    arrGroup(arr) {\r\n      var map = {},\r\n        dest = [];\r\n      for (var i = 0; i < arr.length; i++) {\r\n        var ai = arr[i];\r\n        if (!map[ai.axisY]) {\r\n          dest.push({\r\n            axisY: ai.axisY,\r\n            list: [ai],\r\n          });\r\n          map[ai.axisY] = ai;\r\n        } else {\r\n          for (var j = 0; j < dest.length; j++) {\r\n            var dj = dest[j];\r\n            if (dj.axisY == ai.axisY) {\r\n              dj.list.push(ai);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return dest;\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.getData();\r\n    this.domSet();\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n.el-dialog__header {\r\n  text-align: center !important;\r\n}\r\n\r\n@keyframes twinkling {\r\n  /* 透明度由0到1 */\r\n  0% {\r\n    opacity: 0; /* 透明度为0 */\r\n    // border: 1px solid red;\r\n  }\r\n\r\n  25% {\r\n    opacity: 0.25; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n\r\n  50% {\r\n    opacity: 0.5; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n\r\n  75% {\r\n    opacity: 0.75; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1; /* 透明度为1 */\r\n    // border: 1px solid #fff;\r\n  }\r\n}\r\n\r\n#iqGq {\r\n  height: calc(100vh - 80px);\r\n  width: 100%;\r\n  // overflow: hidden;\r\n  background: #021a3c;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  border: 1px solid #fff;\r\n  // border-left: none;\r\n  cursor: pointer;\r\n\r\n  .navigation {\r\n    // width: 100%;\r\n    height: 20px;\r\n    margin: 0 0 10px 10px;\r\n    color: #fff;\r\n    line-height: 20px;\r\n    width: 100%;\r\n    text-align: center;\r\n\r\n    div {\r\n      margin: 10px 0 10px 0;\r\n    }\r\n\r\n    .one {\r\n      width: 50px;\r\n      height: 20px;\r\n      background-color: #67C23A;\r\n      float: left;\r\n    }\r\n\r\n    .two {\r\n      width: 50px;\r\n      height: 20px;\r\n      margin-left: 20px;\r\n      background-color: #409EFF;\r\n      float: left;\r\n    }\r\n\r\n    .three {\r\n      width: 50px;\r\n      height: 20px;\r\n      margin-left: 20px;\r\n      background-color: #ccc;\r\n      color: black;\r\n      float: left;\r\n    }\r\n\r\n    .controll {\r\n      margin-top: 0;\r\n      float: left;\r\n      height: 20px;\r\n      line-height: 20px;\r\n      margin-left: 10%;\r\n\r\n      >span {\r\n        margin-left: 20px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .content {\r\n    height: 98%;\r\n    width: 100%;\r\n    overflow: scroll;\r\n    background: #021a3c;\r\n    border-top: 1px solid #fff;\r\n  }\r\n\r\n  .box {\r\n    border: 1px solid #ccc;\r\n    // width: 100%;\r\n    border-bottom: none;\r\n    border-right: none;\r\n    position: relative;\r\n    padding: 30px;\r\n    background: #021a3c;\r\n  }\r\n\r\n  .area {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    color: #fff;\r\n\r\n    .xBox {\r\n      width: calc(100vw - 260px);\r\n      height: 20px;\r\n      overflow: hidden;\r\n      position: fixed;\r\n      border-top: 1px solid #fff;\r\n      margin-top: -2px;\r\n      background: #021a3c;\r\n      z-index: 999;\r\n    }\r\n\r\n    .yBox {\r\n      height: calc(100vh - 115px);\r\n      width: 25px;\r\n      overflow: hidden;\r\n      position: fixed;\r\n      background: #021a3c;\r\n      z-index: 999;\r\n      margin-left: -1px;\r\n      margin-top: -1px;\r\n    }\r\n\r\n    .xShaft {\r\n      width: 100%;\r\n      height: 1px;\r\n      margin-left: 35px;\r\n\r\n      div {\r\n        width: 68px;\r\n        height: 20px;\r\n        line-height: 22px;\r\n        float: left;\r\n        border-left: 2px solid #fff;\r\n      }\r\n    }\r\n\r\n    .yShaft {\r\n      width: 25px;\r\n      height: 100%;\r\n      padding-top: 35px;\r\n\r\n      div {\r\n        height: 68px;\r\n        border-bottom: 2px solid #fff;\r\n        line-height: 69px;\r\n      }\r\n\r\n      div:first-child {\r\n        border-top: 2px solid #fff;\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .wareHouse {\r\n    width: 100%;\r\n    height: 50px;\r\n    padding: 10px;\r\n    float: left;\r\n    position: relative;\r\n    z-index: 88;\r\n  }\r\n\r\n  .cabinet {\r\n    position: absolute;\r\n    width: 40px;\r\n    height: 25px;\r\n    line-height: 25px;\r\n    border: 1px solid #fff;\r\n    background: #000;\r\n    color: #fff;\r\n  }\r\n\r\n  .cabinet_check {\r\n    -webkit-animation: twinkling 1s infinite;\r\n  }\r\n\r\n  .cabinet:hover {\r\n    opacity: 0.6;\r\n  }\r\n\r\n  .partition {\r\n    height: 100%;\r\n    position: absolute;\r\n    border: 1px solid #fff;\r\n    margin: 23px 20px;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n    font-size: 18px;\r\n\r\n    div {\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/iq/Gq/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"drap\",rawName:\"v-drap\",value:({ x: 'content', y: 'content' }),expression:\"{ x: 'content', y: 'content' }\"}],attrs:{\"id\":\"iqGq\"}},[_c('div',{staticClass:\"navigation\"},[_c('div',{staticClass:\"one\"},[_vm._v(\"一层\")]),_vm._v(\" \"),_c('div',{staticClass:\"two\"},[_vm._v(\"二层\")]),_vm._v(\" \"),_c('div',{staticClass:\"controll\"},[_c('span',[_vm._v(\"坐标轴：\")]),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"content\":'坐标轴: ' + _vm.controll.border,\"placement\":\"top\"}},[_c('el-switch',{model:{value:(_vm.controll.border),callback:function ($$v) {_vm.$set(_vm.controll, \"border\", $$v)},expression:\"controll.border\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box\",style:({\n        width: _vm.area.x * 70 + 30 + 'px',\n        height: _vm.area.y * 70 + 30 + 'px',\n      })},[_vm._l((_vm.data),function(item){return _c('div',{key:item.axisY,staticClass:\"wareHouse\"},_vm._l((item.list),function(list,index){return _c('div',{key:index,staticClass:\"cabinet\",class:{\n            cabinet_check: list.highLight,\n          },style:({\n            marginLeft:\n              (list.axisX > 1 ? (list.axisX - 1) * 70 + 10 : 10) + 'px',\n            marginTop: (list.axisZ > 1 ? 10 : 35) + 'px',\n            backgroundColor:\n              list.state === '1'\n                ? list.check\n                  ? 'red'\n                  : list.axisZ > 1\n                  ? '#409EFF'\n                  : '#67C23A'\n                : list.state === '2'\n                ? '#ccc'\n                : '',\n            display: list.state === '1' || list.state === '2' ? '' : 'none',\n            color: '#fff',\n          })},[(list.exist)?_c('el-popover',{attrs:{\"placement\":\"top-start\",\"title\":_vm.dlgTle,\"width\":\"600\",\"trigger\":\"click\"}},[_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingDlg),expression:\"loadingDlg\"}],attrs:{\"data\":_vm.crudData,\"option\":_vm.crudOp}}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){return _vm.getDetail(list)}},slot:\"reference\"},[_vm._v(\"\\n              \"+_vm._s(list.exist ? \"✔\" : \"\")+\"\\n            \")])],1):_vm._e()],1)}),0)}),_vm._v(\" \"),_c('div',{staticClass:\"area\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.controll.border),expression:\"controll.border\"}],staticClass:\"xBox\",style:({\n            width: _vm.leftWidth,\n          })},[_c('div',{staticClass:\"xShaft\",style:({\n              width: _vm.area.x * 70 + 55 + 'px',\n            })},_vm._l((_vm.area.x),function(items,indexs){return _c('div',{key:indexs},[_vm._v(\"\\n              \"+_vm._s(items)+\"\\n            \")])}),0)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.controll.border),expression:\"controll.border\"}],staticClass:\"yBox\"},[_c('div',{staticClass:\"yShaft\",style:({\n              height: _vm.area.y * 70 + 60 + 'px',\n            })},_vm._l((_vm.area.y),function(items,indexs){return _c('div',{key:indexs},[_vm._v(\"\\n              \"+_vm._s(items)+\"\\n            \")])}),0)]),_vm._v(\" \"),_vm._l((_vm.area.list),function(partition){return _c('div',{key:partition.name,staticClass:\"partition\",style:({\n            width: (partition.endX - partition.startX + 1) * 70 + 'px',\n            height: (partition.endY - partition.startY + 1) * 70 + 'px',\n            lineHeight:\n              partition.endY - partition.startY + 1 === 1\n                ? '50px'\n                : (partition.endY - partition.startY + 1) * 70 + 'px',\n            top:\n              partition.startY > 1\n                ? (partition.startY - 1) * 70 + 16 + 'px'\n                : '16px',\n            left:\n              partition.startX > 1\n                ? (partition.startX - 1) * 70 + 15 + 'px'\n                : '15px',\n            backgroundColor: partition.check ? 'red' : '',\n          })},[_c('div',{style:({\n              minWidth: partition.areaName.length > 3 ? '75px' : '',\n            })},[_vm._v(\"\\n            \"+_vm._s(partition.areaName)+\"\\n          \")])])})],2)],2)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dlgTle,\"visible\":_vm.dialogVisible,\"width\":\"60%\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"formBox\",staticStyle:{\"margin-top\":\"10px\"}},[_c('avue-crud',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingDlg),expression:\"loadingDlg\"}],attrs:{\"data\":_vm.crudData,\"option\":_vm.crudOp}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e56ba4b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/iq/Gq/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e56ba4b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e56ba4b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/iq/Gq/index.vue\n// module id = null\n// module chunks = ","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.set.to-json.js\n// module id = BDhv\n// module chunks = 4 5","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.set.from.js\n// module id = ioQ5\n// module chunks = 4 5","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/set.js\n// module id = lHA8\n// module chunks = 4 5","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.set.of.js\n// module id = oNmr\n// module chunks = 4 5","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/set.js\n// module id = pPW7\n// module chunks = 4 5","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.set.js\n// module id = ttyz\n// module chunks = 4 5"],"sourceRoot":""}