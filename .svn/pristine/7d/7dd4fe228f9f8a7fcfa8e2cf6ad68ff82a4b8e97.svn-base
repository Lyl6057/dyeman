webpackJsonp([42],{WRz8:function(e,a){},"e+PX":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l,i=t("fZjL"),n=t.n(i),s=t("bOdI"),o=t.n(s),c=[(l={label:"基本图标"},o()(l,"label","基本图标"),o()(l,"list",[{label:"user",value:"el-icon-user-solid"},{label:"phone",value:"el-icon-phone"},{label:"more",value:"el-icon-more"},{label:"star",value:"el-icon-star-on"},{label:"camera",value:"el-icon-camera-solid"},{label:"video",value:"el-icon-video-camera"},{label:"message",value:"el-icon-message-solid"},{label:"platform",value:"el-icon-s-platform"},{label:"flag",value:"el-icon-s-flag"},{label:"opportunity",value:"el-icon-s-opportunity"},{label:"view",value:"el-icon-view"},{label:"office",value:"el-icon-office-building"},{label:"shopping",value:"el-icon-shopping-cart-full"},{label:"mic",value:"el-icon-mic"}]),l)],r={data:function(){return{loading:!1,page:{pageSize:10,total:4},oldData:{},changeList:[],form:{},formOp:{submitBtn:!1,emptyBtn:!1,column:[{label:"层级",prop:"gradeLevel",span:6},{label:"叶子节点",prop:"isLeaf",span:6},{label:"设备类型",prop:"typeName",span:6},{label:"类型编号",prop:"typeNumber",span:6}]},data:[{classifyId:"001",parentId:"",gradeLevel:1,sn:1,isLeaf:"001",typeName:"网络设备",typeNumber:1,typeDescribe:"网络设备",typeIcon:"el-icon-s-data",children:[{classifyId:"001001",parentId:"001",gradeLevel:2,sn:1,isLeaf:"001001",typeName:"交换机",typeNumber:4,typeDescribe:"交换机",typeIcon:"el-icon-s-flag"},{classifyId:"001002",parentId:"001",gradeLevel:2,sn:2,isLeaf:"001002",typeName:"打印机",typeNumber:5,typeDescribe:"打印机",typeIcon:"el-icon-printer"},{classifyId:"001003",parentId:"001",gradeLevel:2,sn:3,isLeaf:"001003",typeName:"视频监控",typeNumber:6,typeDescribe:"视频监控",typeIcon:"el-icon-video-camera"}]},{classifyId:"002",parentId:"",gradeLevel:2,sn:2,isLeaf:"002",typeName:"电脑设备",typeNumber:2,typeDescribe:"电脑设备",typeIcon:"el-icon-s-platform",children:[{classifyId:"002001",parentId:"002",gradeLevel:2,sn:1,isLeaf:"002001",typeName:"计算机",typeNumber:6,typeDescribe:"计算机",typeIcon:"el-icon-s-platform"}]}],crudOp:{menu:!1,addBtn:!1,border:!0,highlightCurrentRow:!0,rowKey:"classifyId",defaultExpandAll:!1,height:"calc(100vh - 180px)",column:[{label:"分类ID",prop:"classifyId",hide:!0},{label:"父亲ID",prop:"parentId",hide:!0},{label:"层级",prop:"gradeLevel"},{label:"序号",prop:"sn",align:"center",cell:!0},{label:"叶子节点",prop:"isLeaf",hide:!0},{label:"设备类型",prop:"typeName",cell:!0},{label:"类型编号",prop:"typeNumber",cell:!0},{label:"类型描述",prop:"typeDescribe",cell:!0},{label:"分类图标",prop:"typeIcon",type:"icon",cell:!0,iconList:c}]}}},methods:o()({getData:function(){var e=this;this.data.forEach(function(a,t){var l=e;document.getElementsByClassName("el-table__row")[t].addEventListener("input",function(){l.iptChange(a)},!1)}),this.loading=!1},add:function(){var e=this;n()(this.oldData).length>0&&(this.oldData.$cellEdit=!1),this.data.push({index:this.data.length+1,$cellEdit:!0}),this.oldData=this.data[this.data.length-1],this.$nextTick(function(){var a=e;document.getElementsByClassName("el-table__row")[a.data.length-1].addEventListener("input",function(){a.iptChange(a.oldData)},!1)})},iptChange:function(e){if(0===this.changeList.length)this.changeList.push(e);else for(var a=0;a<this.changeList.length;a++){if(e.index===this.changeList[a].index)return void(this.changeList[a]=e);this.changeList.length-1===a&&this.changeList[a].index!=e.index&&this.changeList.push(e)}},update:function(){},del:function(){},sava:function(){this.oldData.$cellEdit=!1},cancel:function(){},query:function(){},cellClick:function(e){this.oldData.$cellEdit=!1,this.$set(e,"$cellEdit",!0),this.oldData=e},close:function(){document.getElementsByClassName("el-dialog__headerbtn")[0].click()}},"del",function(e,a){var t=this,l=e.classifyId;cofirm("此操作将永久删除该文件, 是否继续?","提示",{}).then(function(){t.$axios.delete("/api/iotEquipmentType?classifyId="+l).then(function(e){0==e.data.code?(success("删除成功"),t.handleList()):warning("删除失败")}).catch(function(e){error("服务器错误")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}),created:function(){var e=this;this.loading=!0,setTimeout(function(){e.getData()},500)}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"eqClassify"}},[t("view-container",{attrs:{title:"设备分类"}},[t("div",{staticClass:"btnList"},[t("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.add}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.update}},[e._v("修改")]),t("el-button",{attrs:{type:"danger",disabled:e.loading},on:{click:e.del}},[e._v("删除")]),e._v(" "),t("el-button",{attrs:{type:"success",disabled:e.loading},on:{click:e.sava}},[e._v("保存")]),t("el-button",{attrs:{type:"info",disabled:e.loading},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.query}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"danger",disabled:e.loading},on:{click:e.close}},[e._v("关闭")])],1),e._v(" "),t("div",{staticClass:"formBox"},[t("avue-form",{ref:"form",attrs:{option:e.formOp},model:{value:e.form,callback:function(a){e.form=a},expression:"form"}})],1),e._v(" "),t("div",{staticClass:"crudBox"},[t("avue-crud",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"crud",attrs:{data:e.data,option:e.crudOp,page:e.page},on:{"current-row-change":e.cellClick,"update:page":function(a){e.page=a}}})],1)])],1)},staticRenderFns:[]};var p=t("VU/8")(r,d,!1,function(e){t("WRz8")},null,null);a.default=p.exports}});
//# sourceMappingURL=42.44711e32c320bfa642a2.js.map